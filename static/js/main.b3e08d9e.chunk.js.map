{"version":3,"sources":["components/burger-constructor/ingredient/ingredient.module.css","components/modal-overlay/modal-overlay.module.css","components/err/err.module.css","pages/ingredient/ingredient.module.css","components/app/app.module.css","components/app-header/app-header.module.css","services/actions/actionTypes.ts","services/reducers/ingredients.jsx","services/reducers/selected-items.jsx","services/reducers/order.jsx","services/reducers/modal.jsx","services/reducers/button.jsx","services/reducers/tab.jsx","services/reducers/password.jsx","services/reducers/user.jsx","services/reducers/index.jsx","services/store.js","services/actions/modal.jsx","utils/constants.ts","utils/utils.tsx","services/actions/user.jsx","services/actions/order.jsx","services/actions/selected-items.jsx","components/app-header/app-header.tsx","services/actions/tab.jsx","components/burger-ingredients/ingredient/ingredient.tsx","components/burger-ingredients/burger-ingredients.tsx","services/actions/button.jsx","components/burger-constructor/ingredient/ingredient.tsx","components/burger-constructor/burger-constructor.tsx","components/main/main.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","components/ingredient-details/ingredient-details.tsx","images/vector1.svg","images/vector2.svg","images/vector3.svg","images/stroke.svg","components/order-details/order-details.tsx","components/err/err.tsx","components/protected-route/protected-route.tsx","pages/login/login.tsx","pages/register/register.tsx","services/actions/password.jsx","pages/forgot-password/forgot-password.tsx","pages/reset-password/reset-password.tsx","components/user-form/user-form.tsx","components/order-history/order-history.tsx","pages/profile/profile.tsx","pages/ingredient/ingredient.tsx","pages/err404/err404.tsx","components/app/app.tsx","services/actions/ingredients.jsx","reportWebVitals.ts","index.tsx","components/ingredient-details/ingredient-details.module.css","components/burger-constructor/burger-constructor.module.css","pages/profile/profile.module.css","components/order-details/order-details.module.css","components/burger-ingredients/burger-ingredients.module.css","pages/login/login.module.css","pages/register/register.module.css","pages/forgot-password/forgot-password.module.css","pages/reset-password/reset-password.module.css","pages/err404/err404.module.css","components/burger-ingredients/ingredient/ingredient.module.css","components/main/main.module.css","components/modal/modal.module.css","components/user-form/user-form.module.css"],"names":["module","exports","Ingredients","Order","Modal","SelectedItems","User","Password","Button","Tab","initialIngredientsState","items","itemsRequest","itemsFailed","isLoad","ADD_SELECTED_BUN","ADD_SELECTED_TOPPING","DELETE_SELECTED_BUNS","DELETE_SELECTED_TOPPINGS","DELETE_SELECTED_TOPPING","SORT_TOPPING","initialSelectedItemsState","selectedBun","selectedToppings","GET_ORDER_REQUEST","GET_ORDER_SUCCESS","GET_ORDER_FAILED","DELETE_CURRENT_ORDER","initialOrderState","order","orderRequest","orderFailed","OPEN_ORDER_MODAL","CLOSE_ORDER_MODAL","OPEN_ERR_MODAL","CLOSE_ERR_MODAL","SET_ERR","initialModalState","isOrderModalVisible","isErrModalVisible","error","SET_BTN_DISABLED","SET_BTN_ACTIVE","initialButtonState","isBtnDisabled","TAB_SWITCH","initialTabState","currentTab","SET_FORGOT_PASSWORD_REQUEST","SET_FORGOT_PASSWORD_SUCCESS","SET_FORGOT_PASSWORD_FAILED","SET_RESET_PASSWORD_REQUEST","SET_RESET_PASSWORD_SUCCESS","SET_RESET_PASSWORD_FAILED","initialForgotPasswordState","forgot_password","forgot_passwordRequest","forgot_passwordFailed","initialResetPasswordState","reset_password","reset_passwordRequest","reset_passwordFailed","SET_USER_REQUEST","SET_USER_SUCCESS","SET_USER_FAILED","AUTHORIZE_REQUEST","AUTHORIZE_SUCCESS","AUTHORIZE_FAILED","GET_USER_FAILED","GET_USER_REQUEST","GET_USER_SUCCESS","UPDATE_USER_FAILED","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","DELETE_USER_FAILED","DELETE_USER_REQUEST","DELETE_USER_SUCCESS","UPDATE_TOKEN_FAILED","UPDATE_TOKEN_REQUEST","UPDATE_TOKEN_SUCCESS","initialUserState","user","token","userRequest","userFailed","authRequest","authFailed","currentUserRequest","currentUserFailed","deleteUserRequest","deleteUserFailed","updateTokenRequest","updateTokenFailed","rootReducer","combineReducers","ingredientsReducer","state","action","GET_ITEMS_FAILED","GET_ITEMS_REQUEST","GET_ITEMS_SUCCESS","type","selectedItemsReducer","item","filter","uuid","dragCard","dragIndex","NewToppingsState","splice","hoverIndex","orderReducer","modalReducer","text","buttonReducer","tabReducer","tab","forgotPasswordReducer","resetPasswordReducer","userReducer","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","openErrModal","setError","err","API_URL","localStorage","getItem","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","cookieProps","props","exp","expires","date","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","setTokens","data","accessToken","split","authToken","refreshToken","setItem","updateToken","callback","dispatch","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","then","res","ok","json","Promise","reject","status","success","catch","getUser","Authorization","updateUser","email","password","deleteUser","getOrder","selectedId","ingredients","AppHeader","pathname","useLocation","useSelector","typeForConstructor","typeForUser","className","styles","header","container","nav","navLink","to","activeClassName","activeNavLink","exact","logoContainer","profile","Ingredient","ingredient","location","count","useMemo","_id","length","useDrag","collect","monitor","opacity","isDragging","dragRef","style","ref","size","link","background","src","image","alt","price","BurgerIngredients","burgerIngredientsElem","querySelector","bunsElem","saucesElem","toppingElem","useDispatch","bunRef","useRef","saucesRef","toppingRef","setCurrentTab","tabSwitch","setTab","tabRef","current","scrollIntoView","behavior","typeBun","el","typeSauce","typeTopping","burgerIngredients","id","onScroll","bunsPosition","Math","abs","getBoundingClientRect","top","saucesPosition","toppingPosition","onScrollPosition","display","active","onClick","loader","color","height","width","visible","list","map","index","moveTopping","useCallback","sortTopping","useDrop","accept","handlerId","getHandlerId","hover","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","drag","isLocked","thumbnail","itemContainer","handleClose","deleteSelectedTopping","BurgerConstructor","history","useHistory","handleDrop","uuidv4","addSelectedBun","addSelectedTopping","isHover","isOver","dropTarget","borderColor","totalPrice","reduce","sum","useEffect","concat","burgerConstructor","middleContainer","renderCard","summary","disabled","burgerImg","Main","main","DndProvider","backend","HTML5Backend","ModalOverlay","modalOverlay","modalRoot","getElementById","children","handleEscClose","e","key","handlerOverlayClick","target","classList","contains","addEventListener","removeEventListener","ReactDOM","createPortal","modal","close","IngredientDetails","ID","useParams","currentIngredient","info","calories","proteins","fat","carbohydrates","OrderDetails","orderDetails","title","number","vector1","vector2","vector3","stroke","Err","ProtectedRoute","rest","useState","isUserLoaded","setUserLoaded","render","from","LoginPage","form","setValue","onChange","wrapper","onSubmit","preventDefault","RegisterPage","handleSubmit","Accept","placeholder","errorText","ForgotPasswordPage","setEmailValue","forgotPassword","ResetPasswordPage","code","UserForm","nameRef","React","emailRef","showButton","setShowButton","iconOnName","setIconOnName","iconOnEmail","setIconOnEmail","focusOnName","setFocusOnName","focusOnEmail","setFocusOnEmail","nameErr","setNameErr","emailErr","setEmailErr","test","changeIconOnFocus","changeIconOnBlur","icon","onFocus","onBlur","onIconClick","setTimeout","focus","buttonContainer","OrderHistory","ProfilePage","activeItem","removeItem","push","exit","description","IngredientPage","NotFound404","content","App","getItems","app","path","goBack","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.b3e08d9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemContainer\":\"ingredient_itemContainer__22Aka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"modal-overlay_modalOverlay__2DmsG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"err_container__G_leO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient_container__3MqLf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__jl1xF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__Vw8Ue\",\"container\":\"app-header_container__3WK9m\",\"logoContainer\":\"app-header_logoContainer__2a6c6\",\"nav\":\"app-header_nav__qxaLC\",\"navLink\":\"app-header_navLink__VapAo\",\"activeNavLink\":\"app-header_activeNavLink__3wZk3\",\"profile\":\"app-header_profile__HrcT9\"};","export enum Ingredients {\r\n  GET_ITEMS_REQUEST = \"GET_ITEMS_REQUEST\",\r\n  GET_ITEMS_SUCCESS = \"GET_ITEMS_SUCCESS\",\r\n  GET_ITEMS_FAILED = \"GET_ITEMS_FAILED\",\r\n}\r\n\r\nexport enum Order {\r\n  GET_ORDER_REQUEST = \"GET_ORDER_REQUEST\",\r\n  GET_ORDER_SUCCESS = \"GET_ORDER_SUCCESS\",\r\n  GET_ORDER_FAILED = \"GET_ORDER_FAILED\",\r\n\r\n  DELETE_CURRENT_ORDER = \"DELETE_CURRENT_ORDER\",\r\n}\r\n\r\nexport enum Modal {\r\n  OPEN_ORDER_MODAL = \"OPEN_ORDER_MODAL\",\r\n  CLOSE_ORDER_MODAL = \"CLOSE_ORDER_MODAL\",\r\n\r\n  OPEN_ERR_MODAL = \"OPEN_ERR_MODAL\",\r\n  CLOSE_ERR_MODAL = \"CLOSE_ERR_MODAL\",\r\n\r\n  SET_ERR = \"SET_ERR\",\r\n}\r\n\r\nexport enum SelectedItems {\r\n  ADD_SELECTED_BUN = \"ADD_SELECTED_BUN\",\r\n  ADD_SELECTED_TOPPING = \"ADD_SELECTED_TOPPING\",\r\n\r\n  DELETE_SELECTED_BUNS = \"DELETE_SELECTED_BUNS\",\r\n  DELETE_SELECTED_TOPPINGS = \"DELETE_SELECTED_TOPPINGS\",\r\n\r\n  DELETE_SELECTED_TOPPING = \"DELETE_SELECTED_TOPPING\",\r\n\r\n  SORT_TOPPING = \"SORT_TOPPING\",\r\n}\r\n\r\nexport enum User {\r\n  SET_USER_REQUEST = \"SET_USER_REQUEST\",\r\n  SET_USER_SUCCESS = \"SET_USER_SUCCESS\",\r\n  SET_USER_FAILED = \"SET_USER_FAILED\",\r\n\r\n  AUTHORIZE_REQUEST = \"AUTHORIZE_REQUEST\",\r\n  AUTHORIZE_SUCCESS = \"AUTHORIZE_SUCCESS\",\r\n  AUTHORIZE_FAILED = \"AUTHORIZE_FAILED\",\r\n\r\n  GET_USER_REQUEST = \"GET_USER_REQUEST\",\r\n  GET_USER_SUCCESS = \"GET_USER_SUCCESS\",\r\n  GET_USER_FAILED = \"GET_USER_FAILED\",\r\n\r\n  UPDATE_USER_REQUEST = \"UPDATE_USER_REQUEST\",\r\n  UPDATE_USER_SUCCESS = \"UPDATE_USER_SUCCESS\",\r\n  UPDATE_USER_FAILED = \"UPDATE_USER_FAILED\",\r\n\r\n  DELETE_USER_REQUEST = \"DELETE_USER_REQUEST\",\r\n  DELETE_USER_SUCCESS = \"DELETE_USER_SUCCESS\",\r\n  DELETE_USER_FAILED = \"DELETE_USER_FAILED\",\r\n\r\n  UPDATE_TOKEN_REQUEST = \"UPDATE_TOKEN_REQUEST\",\r\n  UPDATE_TOKEN_SUCCESS = \"UPDATE_TOKEN_SUCCESS\",\r\n  UPDATE_TOKEN_FAILED = \"UPDATE_TOKEN_FAILED\",\r\n}\r\n\r\nexport enum Password {\r\n  SET_FORGOT_PASSWORD_REQUEST = \"SET_FORGOT_PASSWORD_REQUEST\",\r\n  SET_FORGOT_PASSWORD_SUCCESS = \"SET_FORGOT_PASSWORD_SUCCESS\",\r\n  SET_FORGOT_PASSWORD_FAILED = \"SET_FORGOT_PASSWORD_FAILED\",\r\n\r\n  SET_RESET_PASSWORD_REQUEST = \"SET_FORGOT_PASSWORD_REQUEST\",\r\n  SET_RESET_PASSWORD_SUCCESS = \"SET_FORGOT_PASSWORD_SUCCESS\",\r\n  SET_RESET_PASSWORD_FAILED = \"SET_FORGOT_PASSWORD_FAILED\",\r\n}\r\n\r\nexport enum Button {\r\n  SET_BTN_DISABLED = \"SET_BTN_DISABLED\",\r\n  SET_BTN_ACTIVE = \"SET_BTN_ACTIVE\",\r\n}\r\n\r\nexport enum Tab {\r\n  TAB_SWITCH = \"TAB_SWITCH\",\r\n}\r\n","import {Ingredients} from \"../actions/actionTypes\";\r\n\r\nconst initialIngredientsState = {\r\n  items: [], itemsRequest: false, itemsFailed: false, isLoad: false,\r\n};\r\n\r\nexport const ingredientsReducer = (state = initialIngredientsState, action) => {\r\n  const {\r\n    GET_ITEMS_FAILED, GET_ITEMS_REQUEST, GET_ITEMS_SUCCESS,\r\n  } = Ingredients;\r\n\r\n  switch (action.type) {\r\n    case GET_ITEMS_REQUEST: {\r\n      return {\r\n        ...state, itemsRequest: true, isLoad: true,\r\n      };\r\n    }\r\n    case GET_ITEMS_SUCCESS: {\r\n      return {\r\n        ...state, itemsFailed: false, items: action.items, itemsRequest: false, isLoad: false,\r\n      };\r\n    }\r\n    case GET_ITEMS_FAILED: {\r\n      return {...state, itemsFailed: true, itemsRequest: false, isLoad: true};\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { SelectedItems } from \"../actions/actionTypes\";\r\n\r\nconst {\r\n  ADD_SELECTED_BUN,\r\n  ADD_SELECTED_TOPPING,\r\n  DELETE_SELECTED_BUNS,\r\n  DELETE_SELECTED_TOPPINGS,\r\n  DELETE_SELECTED_TOPPING,\r\n  SORT_TOPPING,\r\n} = SelectedItems;\r\n\r\nconst initialSelectedItemsState = {\r\n  selectedBun: [],\r\n  selectedToppings: [],\r\n};\r\n\r\nexport const selectedItemsReducer = (\r\n  state = initialSelectedItemsState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ADD_SELECTED_BUN: {\r\n      return {\r\n        ...state,\r\n        selectedBun: [{ ...action.item }],\r\n      };\r\n    }\r\n    case ADD_SELECTED_TOPPING: {\r\n      return {\r\n        ...state,\r\n        selectedToppings: [...state.selectedToppings, { ...action.item }],\r\n      };\r\n    }\r\n\r\n    case DELETE_SELECTED_BUNS: {\r\n      return {\r\n        ...state,\r\n        selectedBun: [],\r\n      };\r\n    }\r\n    case DELETE_SELECTED_TOPPINGS: {\r\n      return {\r\n        ...state,\r\n        selectedToppings: [],\r\n      };\r\n    }\r\n\r\n    case DELETE_SELECTED_TOPPING: {\r\n      return {\r\n        ...state,\r\n        selectedToppings: [...state.selectedToppings].filter(\r\n          (item) => item.uuid !== action.item.uuid\r\n        ),\r\n      };\r\n    }\r\n\r\n    case SORT_TOPPING: {\r\n      const dragCard = state.selectedToppings[action.dragIndex];\r\n      const NewToppingsState = [...state.selectedToppings];\r\n      NewToppingsState.splice(action.dragIndex, 1);\r\n      NewToppingsState.splice(action.hoverIndex, 0, dragCard);\r\n      return {\r\n        ...state,\r\n        selectedToppings: NewToppingsState,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import {\r\nOrder\r\n} from \"../actions/actionTypes\";\r\n\r\nconst {\r\n  GET_ORDER_REQUEST,\r\n  GET_ORDER_SUCCESS,\r\n  GET_ORDER_FAILED,\r\n  DELETE_CURRENT_ORDER,\r\n} = Order;\r\n\r\n\r\nconst initialOrderState = {\r\n  order: {},\r\n  orderRequest: false,\r\n  orderFailed: false,\r\n};\r\n\r\nexport const orderReducer = (state = initialOrderState, action) => {\r\n  switch (action.type) {\r\n    case GET_ORDER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        orderRequest: true,\r\n      };\r\n    }\r\n    case GET_ORDER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        orderFailed: false,\r\n        order: action.order,\r\n        orderRequest: false,\r\n      };\r\n    }\r\n    case GET_ORDER_FAILED: {\r\n      return { ...state, orderFailed: true, orderRequest: false };\r\n    }\r\n\r\n    case DELETE_CURRENT_ORDER: {\r\n      return { ...state, order: {} };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { Modal } from \"../actions/actionTypes\";\r\n\r\nconst {\r\n  OPEN_ORDER_MODAL,\r\n  CLOSE_ORDER_MODAL,\r\n  OPEN_ERR_MODAL,\r\n  CLOSE_ERR_MODAL,\r\n  SET_ERR,\r\n} = Modal;\r\n\r\nconst initialModalState = {\r\n  isOrderModalVisible: false,\r\n  isErrModalVisible: false,\r\n  error: \"\",\r\n};\r\n\r\nexport const modalReducer = (state = initialModalState, action) => {\r\n  switch (action.type) {\r\n    case OPEN_ORDER_MODAL: {\r\n      return {\r\n        ...state,\r\n        isOrderModalVisible: true,\r\n      };\r\n    }\r\n    case CLOSE_ORDER_MODAL: {\r\n      return {\r\n        ...state,\r\n        isOrderModalVisible: false,\r\n      };\r\n    }\r\n\r\n    case OPEN_ERR_MODAL: {\r\n      return {\r\n        ...state,\r\n        isErrModalVisible: true,\r\n      };\r\n    }\r\n    case CLOSE_ERR_MODAL: {\r\n      return {\r\n        ...state,\r\n        isErrModalVisible: false,\r\n      };\r\n    }\r\n\r\n    case SET_ERR: {\r\n      return {\r\n        ...state,\r\n        error: action.text,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { Button } from \"../actions/actionTypes\";\r\n\r\nconst { SET_BTN_DISABLED, SET_BTN_ACTIVE } = Button;\r\n\r\nconst initialButtonState = {\r\n  isBtnDisabled: false,\r\n};\r\n\r\nexport const buttonReducer = (state = initialButtonState, action) => {\r\n  switch (action.type) {\r\n    case SET_BTN_DISABLED: {\r\n      return {\r\n        ...state,\r\n        isBtnDisabled: true,\r\n      };\r\n    }\r\n    case SET_BTN_ACTIVE: {\r\n      return {\r\n        ...state,\r\n        isBtnDisabled: false,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { Tab } from \"../actions/actionTypes\";\r\n\r\nconst { TAB_SWITCH } = Tab;\r\n\r\nconst initialTabState = {\r\n  currentTab: \"bun\",\r\n};\r\n\r\nexport const tabReducer = (state = initialTabState, action) => {\r\n  switch (action.type) {\r\n    case TAB_SWITCH: {\r\n      return {\r\n        ...state,\r\n        currentTab: action.tab,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { Password } from \"../actions/actionTypes\";\r\n\r\nconst {\r\n  SET_FORGOT_PASSWORD_REQUEST,\r\n  SET_FORGOT_PASSWORD_SUCCESS,\r\n  SET_FORGOT_PASSWORD_FAILED,\r\n  SET_RESET_PASSWORD_REQUEST,\r\n  SET_RESET_PASSWORD_SUCCESS,\r\n  SET_RESET_PASSWORD_FAILED,\r\n} = Password;\r\n\r\nconst initialForgotPasswordState = {\r\n  forgot_password: {},\r\n  forgot_passwordRequest: false,\r\n  forgot_passwordFailed: false,\r\n};\r\n\r\nconst initialResetPasswordState = {\r\n  reset_password: {},\r\n  reset_passwordRequest: false,\r\n  reset_passwordFailed: false,\r\n};\r\n\r\nexport const forgotPasswordReducer = (\r\n  state = initialForgotPasswordState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case SET_FORGOT_PASSWORD_REQUEST: {\r\n      return {\r\n        ...state,\r\n        forgot_passwordRequest: true,\r\n      };\r\n    }\r\n    case SET_FORGOT_PASSWORD_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        forgot_passwordFailed: false,\r\n        forgot_password: action.forgot_password,\r\n        forgot_passwordRequest: false,\r\n      };\r\n    }\r\n    case SET_FORGOT_PASSWORD_FAILED: {\r\n      return {\r\n        ...state,\r\n        forgot_passwordFailed: true,\r\n        forgot_passwordRequest: false,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport const resetPasswordReducer = (\r\n  state = initialResetPasswordState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case SET_RESET_PASSWORD_REQUEST: {\r\n      return {\r\n        ...state,\r\n        reset_passwordRequest: true,\r\n      };\r\n    }\r\n    case SET_RESET_PASSWORD_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        reset_passwordFailed: false,\r\n        reset_password: action.reset_password,\r\n        reset_passwordRequest: false,\r\n      };\r\n    }\r\n    case SET_RESET_PASSWORD_FAILED: {\r\n      return {\r\n        ...state,\r\n        reset_passwordFailed: true,\r\n        reset_passwordRequest: false,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { User } from \"../actions/actionTypes\";\r\n\r\nconst {\r\n  SET_USER_REQUEST,\r\n  SET_USER_SUCCESS,\r\n  SET_USER_FAILED,\r\n  AUTHORIZE_REQUEST,\r\n  AUTHORIZE_SUCCESS,\r\n  AUTHORIZE_FAILED,\r\n  GET_USER_FAILED,\r\n  GET_USER_REQUEST,\r\n  GET_USER_SUCCESS,\r\n  UPDATE_USER_FAILED,\r\n  UPDATE_USER_REQUEST,\r\n  UPDATE_USER_SUCCESS,\r\n  DELETE_USER_FAILED,\r\n  DELETE_USER_REQUEST,\r\n  DELETE_USER_SUCCESS,\r\n  UPDATE_TOKEN_FAILED,\r\n  UPDATE_TOKEN_REQUEST,\r\n  UPDATE_TOKEN_SUCCESS,\r\n} = User;\r\n\r\nconst initialUserState = {\r\n  user: [],\r\n  token: {},\r\n\r\n  userRequest: false,\r\n  userFailed: false,\r\n\r\n  authRequest: false,\r\n  authFailed: false,\r\n\r\n  currentUserRequest: false,\r\n  currentUserFailed: false,\r\n\r\n  deleteUserRequest: false,\r\n  deleteUserFailed: false,\r\n\r\n  updateTokenRequest: false,\r\n  updateTokenFailed: false,\r\n};\r\n\r\nexport const userReducer = (state = initialUserState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        userRequest: true,\r\n      };\r\n    }\r\n    case SET_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        userFailed: false,\r\n        user: action.user,\r\n        userRequest: false,\r\n      };\r\n    }\r\n    case SET_USER_FAILED: {\r\n      return { ...state, userFailed: true, userRequest: false };\r\n    }\r\n\r\n    case AUTHORIZE_REQUEST: {\r\n      return {\r\n        ...state,\r\n        authRequest: true,\r\n      };\r\n    }\r\n    case AUTHORIZE_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        authFailed: false,\r\n        user: action.user,\r\n        authRequest: false,\r\n      };\r\n    }\r\n    case AUTHORIZE_FAILED: {\r\n      return { ...state, authFailed: true, authRequest: false };\r\n    }\r\n\r\n    case GET_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        currentUserRequest: true,\r\n      };\r\n    }\r\n    case GET_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        currentUserFailed: false,\r\n        user: action.user,\r\n        currentUserRequest: false,\r\n      };\r\n    }\r\n    case GET_USER_FAILED: {\r\n      return { ...state, currentUserFailed: true, currentUserRequest: false };\r\n    }\r\n\r\n    case UPDATE_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        currentUserRequest: true,\r\n      };\r\n    }\r\n    case UPDATE_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        currentUserFailed: false,\r\n        user: action.user,\r\n        currentUserRequest: false,\r\n      };\r\n    }\r\n    case UPDATE_USER_FAILED: {\r\n      return { ...state, currentUserFailed: true, currentUserRequest: false };\r\n    }\r\n\r\n    case DELETE_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        deleteUserRequest: true,\r\n      };\r\n    }\r\n    case DELETE_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        deleteUserFailed: false,\r\n        user: {},\r\n        deleteUserRequest: false,\r\n      };\r\n    }\r\n    case DELETE_USER_FAILED: {\r\n      return { ...state, deleteUserFailed: true, deleteUserRequest: false };\r\n    }\r\n\r\n    case UPDATE_TOKEN_REQUEST: {\r\n      return {\r\n        ...state,\r\n        updateTokenRequest: true,\r\n      };\r\n    }\r\n    case UPDATE_TOKEN_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        updateTokenFailed: false,\r\n        token: action.token,\r\n        updateTokenRequest: false,\r\n      };\r\n    }\r\n    case UPDATE_TOKEN_FAILED: {\r\n      return { ...state, updateTokenFailed: true, updateTokenRequest: false };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport { ingredientsReducer } from \"./ingredients\";\r\nimport { selectedItemsReducer } from \"./selected-items\";\r\nimport { orderReducer } from \"./order\";\r\nimport { modalReducer } from \"./modal\";\r\nimport { buttonReducer } from \"./button\";\r\nimport { tabReducer } from \"./tab\";\r\nimport { forgotPasswordReducer, resetPasswordReducer } from \"./password\";\r\nimport { userReducer } from \"./user\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  ingredientsReducer,\r\n  selectedItemsReducer,\r\n  orderReducer,\r\n  modalReducer,\r\n  buttonReducer,\r\n  tabReducer,\r\n  forgotPasswordReducer,\r\n  resetPasswordReducer,\r\n  userReducer,\r\n});\r\n","import { compose, createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"./reducers/index\";\r\n\r\nconst composeEnhancers =\r\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nexport const store = createStore(rootReducer, enhancer);\r\n","import { Modal } from \"./actionTypes\";\r\n\r\nconst {\r\n  OPEN_ORDER_MODAL,\r\n  CLOSE_ORDER_MODAL,\r\n  OPEN_ERR_MODAL,\r\n  CLOSE_ERR_MODAL,\r\n  SET_ERR,\r\n} = Modal;\r\n\r\nexport const openOrderModal = () => ({\r\n  type: OPEN_ORDER_MODAL,\r\n});\r\n\r\nexport const closeOrderModal = () => ({\r\n  type: CLOSE_ORDER_MODAL,\r\n});\r\n\r\nexport const openErrModal = () => ({\r\n  type: OPEN_ERR_MODAL,\r\n});\r\n\r\nexport const closeErrModal = () => ({\r\n  type: CLOSE_ERR_MODAL,\r\n});\r\n\r\nexport const setError = (err) => ({\r\n  type: SET_ERR,\r\n  text: err,\r\n});\r\n","export const API_URL: string = \"https://norma.nomoreparties.space/api/\";\r\n\r\nexport const MILLISECONDS: number = 1000;\r\n\r\nexport const token: string | null = localStorage.getItem(\"refreshToken\");\r\n","import { MILLISECONDS } from \"./constants\";\r\n\r\nimport {TCookieProps, TData} from \"./type\";\r\n\r\nexport function getCookie(name: string): string | undefined {\r\n  const matches = document.cookie.match(\r\n    new RegExp(\r\n      \"(?:^|; )\" + name.replace(/([$?*|{}\\]\\\\^])/g, \"\\\\$1\") + \"=([^;]*)\"\r\n    )\r\n  );\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(\r\n  name: string,\r\n  value: string | null,\r\n  cookieProps: TCookieProps\r\n): void {\r\n  const props = { ...cookieProps };\r\n  let exp = props.expires;\r\n  if (typeof exp == \"number\" && exp) {\r\n    const date = new Date();\r\n    date.setTime(date.getTime() + exp * MILLISECONDS);\r\n    exp = props.expires = date;\r\n  }\r\n  if (exp && exp instanceof Date) {\r\n    props.expires = exp.toUTCString();\r\n  }\r\n  if (value) {\r\n    value = encodeURIComponent(value);\r\n  }\r\n\r\n  let updatedCookie = name + \"=\" + value;\r\n  for (const propName in props) {\r\n    updatedCookie += \"; \" + propName;\r\n    const propValue = props[propName];\r\n    if (propValue !== true) {\r\n      updatedCookie += \"=\" + propValue;\r\n    }\r\n  }\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\nexport function deleteCookie(name: string) {\r\n  setCookie(name, null, { expires: -1 });\r\n}\r\n\r\nexport function setTokens(data: TData) {\r\n  const accessToken: string = data.accessToken.split(\"Bearer \")[1];\r\n  const authToken: string = data.refreshToken;\r\n  accessToken && setCookie(\"token\", accessToken, { \"max-age\": 1200 });\r\n  authToken && localStorage.setItem(\"refreshToken\", authToken);\r\n}\r\n","import { openErrModal, setError } from \"./modal\";\r\nimport { User } from \"./actionTypes\";\r\n\r\n// utils\r\nimport { API_URL } from \"../../utils/constants\";\r\nimport { deleteCookie, getCookie, setTokens } from \"../../utils/utils\";\r\n\r\nconst {\r\n  SET_USER_REQUEST,\r\n  SET_USER_SUCCESS,\r\n  SET_USER_FAILED,\r\n  AUTHORIZE_REQUEST,\r\n  AUTHORIZE_SUCCESS,\r\n  AUTHORIZE_FAILED,\r\n  GET_USER_REQUEST,\r\n  GET_USER_SUCCESS,\r\n  GET_USER_FAILED,\r\n  UPDATE_USER_REQUEST,\r\n  UPDATE_USER_SUCCESS,\r\n  UPDATE_USER_FAILED,\r\n  DELETE_USER_REQUEST,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_FAILED,\r\n  UPDATE_TOKEN_REQUEST,\r\n  UPDATE_TOKEN_SUCCESS,\r\n  UPDATE_TOKEN_FAILED,\r\n} = User;\r\n\r\nexport function register(email, password, name) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: SET_USER_REQUEST,\r\n    });\r\n    fetch(`${API_URL}auth/register`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password, name }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: SET_USER_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: SET_USER_SUCCESS,\r\n            user: data,\r\n          });\r\n          setTokens(data);\r\n          dispatch(getUser());\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_USER_FAILED,\r\n        });\r\n        dispatch(setError(`register ${err}`));\r\n        dispatch(openErrModal());\r\n      });\r\n  };\r\n}\r\n\r\nexport function updateToken(callback) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: UPDATE_TOKEN_REQUEST,\r\n    });\r\n    fetch(`${API_URL}auth/token`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      cache: \"no-cache\",\r\n      credentials: \"same-origin\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      redirect: \"follow\",\r\n      referrerPolicy: \"no-referrer\",\r\n      body: JSON.stringify({\r\n        token: `${localStorage.getItem(\"refreshToken\")}`,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: UPDATE_TOKEN_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: UPDATE_TOKEN_SUCCESS,\r\n            token: data,\r\n          });\r\n          setTokens(data);\r\n          callback && callback();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: UPDATE_TOKEN_FAILED,\r\n        });\r\n        dispatch(setError(`${err} token не обновлен`));\r\n      });\r\n  };\r\n}\r\n\r\nexport function getUser() {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_USER_REQUEST,\r\n    });\r\n\r\n    fetch(`${API_URL}auth/user`, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      cache: \"no-cache\",\r\n      credentials: \"same-origin\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + getCookie(\"token\"),\r\n      },\r\n      redirect: \"follow\",\r\n      referrerPolicy: \"no-referrer\",\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: GET_USER_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: GET_USER_SUCCESS,\r\n            user: data,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: GET_USER_FAILED,\r\n        });\r\n        if (err === 403) {\r\n          dispatch(updateToken(() => dispatch(getUser())));\r\n        }\r\n        dispatch(setError(`getUser ${err}`));\r\n      });\r\n  };\r\n}\r\n\r\nexport function authorize(email, password) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: AUTHORIZE_REQUEST,\r\n    });\r\n    fetch(`${API_URL}auth/login`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      cache: \"no-cache\",\r\n      credentials: \"same-origin\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      redirect: \"follow\",\r\n      referrerPolicy: \"no-referrer\",\r\n      body: JSON.stringify({ email, password }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: AUTHORIZE_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: AUTHORIZE_SUCCESS,\r\n            user: data,\r\n          });\r\n\r\n          setTokens(data);\r\n          dispatch(getUser());\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (err === 401) {\r\n          dispatch({\r\n            type: AUTHORIZE_FAILED,\r\n          });\r\n          dispatch(setError(`${err} Неправильные почта или пароль`));\r\n          dispatch(openErrModal());\r\n        } else {\r\n          dispatch({\r\n            type: AUTHORIZE_FAILED,\r\n          });\r\n          dispatch(setError(`authorize ${err}`));\r\n          dispatch(openErrModal());\r\n        }\r\n      });\r\n  };\r\n}\r\n\r\nexport function updateUser(email, password, name) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: UPDATE_USER_REQUEST,\r\n    });\r\n    fetch(`${API_URL}auth/user`, {\r\n      method: \"PATCH\",\r\n      mode: \"cors\",\r\n      cache: \"no-cache\",\r\n      credentials: \"same-origin\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + getCookie(\"token\"),\r\n      },\r\n      redirect: \"follow\",\r\n      referrerPolicy: \"no-referrer\",\r\n      body: JSON.stringify({ email, password, name }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: UPDATE_USER_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: UPDATE_USER_SUCCESS,\r\n            user: data,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (err === 403) {\r\n          dispatch(\r\n            updateToken(() => dispatch(updateUser(email, password, name)))\r\n          );\r\n        }\r\n        dispatch({\r\n          type: UPDATE_USER_FAILED,\r\n        });\r\n        dispatch(setError(`updateUser ${err}`));\r\n      });\r\n  };\r\n}\r\n\r\nexport function deleteUser(token) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: DELETE_USER_REQUEST,\r\n    });\r\n    fetch(`${API_URL}auth/logout`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      cache: \"no-cache\",\r\n      credentials: \"same-origin\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      redirect: \"follow\",\r\n      referrerPolicy: \"no-referrer\",\r\n      body: JSON.stringify({ token }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: DELETE_USER_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: DELETE_USER_SUCCESS,\r\n            user: data,\r\n          });\r\n          deleteCookie(\"token\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: DELETE_USER_FAILED,\r\n        });\r\n        dispatch(openErrModal());\r\n        dispatch(setError(`deleteUser ${err}`));\r\n      });\r\n  };\r\n}\r\n\r\n","import { Order } from \"./actionTypes\";\r\nimport { openOrderModal, openErrModal, setError } from \"./modal\";\r\n\r\n// utils\r\nimport { API_URL } from \"../../utils/constants\";\r\n\r\nconst {\r\n  GET_ORDER_REQUEST,\r\n  GET_ORDER_SUCCESS,\r\n  GET_ORDER_FAILED,\r\n  DELETE_CURRENT_ORDER,\r\n} = Order;\r\n\r\nexport function getOrder(selectedId) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_ORDER_REQUEST,\r\n    });\r\n    fetch(`${API_URL}orders`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        ingredients: selectedId,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: GET_ORDER_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        dispatch({\r\n          type: GET_ORDER_SUCCESS,\r\n          order: data.order,\r\n        });\r\n        dispatch(openOrderModal());\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: GET_ORDER_FAILED,\r\n        });\r\n        dispatch(setError(`getOrder ${err}`));\r\n        dispatch(openErrModal());\r\n      });\r\n  };\r\n}\r\n\r\nexport const deleteCurrentOrder = () => ({\r\n  type: DELETE_CURRENT_ORDER,\r\n});\r\n","import { SelectedItems } from \"./actionTypes\";\r\n\r\nconst {\r\n  ADD_SELECTED_BUN,\r\n  ADD_SELECTED_TOPPING,\r\n  DELETE_SELECTED_BUNS,\r\n  DELETE_SELECTED_TOPPINGS,\r\n  DELETE_SELECTED_TOPPING,\r\n  SORT_TOPPING,\r\n} = SelectedItems;\r\n\r\nexport const addSelectedBun = (item) => ({\r\n  type: ADD_SELECTED_BUN,\r\n  item,\r\n});\r\n\r\nexport const addSelectedTopping = (item) => ({\r\n  type: ADD_SELECTED_TOPPING,\r\n  item,\r\n});\r\n\r\nexport const deleteSelectedBuns = () => ({\r\n  type: DELETE_SELECTED_BUNS,\r\n});\r\n\r\nexport const deleteSelectedToppings = () => ({\r\n  type: DELETE_SELECTED_TOPPINGS,\r\n});\r\n\r\nexport const deleteSelectedTopping = (item) => ({\r\n  type: DELETE_SELECTED_TOPPING,\r\n  item,\r\n});\r\n\r\nexport const sortTopping = (dragIndex, hoverIndex) => ({\r\n  type: SORT_TOPPING,\r\n  dragIndex,\r\n  hoverIndex,\r\n});\r\n","// react redux types\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { NavLink, Link, useLocation } from \"react-router-dom\";\r\n\r\n// styles\r\nimport styles from \"./app-header.module.css\";\r\n\r\n// ui-components\r\nimport {\r\n  BurgerIcon,\r\n  ListIcon,\r\n  Logo,\r\n  ProfileIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nconst AppHeader = (): JSX.Element => {\r\n  const { pathname } = useLocation();\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n\r\n  const typeForConstructor = pathname === \"/\" ? \"primary\" : \"secondary\";\r\n  const typeForUser = pathname === \"/profile\" ? \"primary\" : \"secondary\";\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.container}>\r\n        <nav className={styles.nav}>\r\n          <div className={`${styles.navLink} pl-5 pr-6`}>\r\n            <BurgerIcon type={typeForConstructor} />\r\n            <NavLink\r\n              to={{ pathname: `/` }}\r\n              className={`${styles.navLink} ml-2 text text_type_main-defaul`}\r\n              activeClassName={`${styles.activeNavLink}`}\r\n              exact\r\n            >\r\n              Конструктор\r\n            </NavLink>\r\n          </div>\r\n          <div className={`${styles.navLink} pl-6 pr-5`}>\r\n            <ListIcon type=\"secondary\" />\r\n            <NavLink\r\n              to={{ pathname: `#` }}\r\n              exact\r\n              className={`${styles.navLink} ml-2 text text_type_main-default`}\r\n              activeClassName={`${styles.activeNavLink}`}\r\n            >\r\n              Лента заказов\r\n            </NavLink>\r\n          </div>\r\n        </nav>\r\n        <Link to={{ pathname: `/` }} className={styles.logoContainer}>\r\n          <Logo />\r\n        </Link>\r\n        <div className={`${styles.profile}`}>\r\n          <ProfileIcon type={typeForUser} />\r\n          <NavLink\r\n            to={{ pathname: `/profile` }}\r\n            className={`${styles.navLink} text text_type_main-default ml-2`}\r\n            activeClassName={`${styles.activeNavLink}`}\r\n          >\r\n            {user?.user?.name ? user.user.name : \"Личный кабинет\"}\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppHeader;\r\n","import { Tab } from \"./actionTypes\";\r\n\r\nconst { TAB_SWITCH } = Tab;\r\n\r\nexport const tabSwitch = (tab) => ({\r\n  type: TAB_SWITCH,\r\n  tab,\r\n});\r\n","// react redux types\r\nimport React, { FC, useMemo } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\n// dnd\r\nimport { useDrag } from \"react-dnd\";\r\n\r\n// ui-components\r\nimport {\r\n  Counter,\r\n  CurrencyIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n// utils\r\nimport { TIngredient, TLocationState } from \"../../../utils/type\";\r\n\r\n// styles\r\nimport styles from \"./ingredient.module.css\";\r\n\r\ntype TBurgerIngredient = {\r\n  ingredient: TIngredient;\r\n};\r\n\r\nconst Ingredient: FC<TBurgerIngredient> = ({ ingredient }) => {\r\n  const location = useLocation<TLocationState>();\r\n\r\n  const { selectedBun, selectedToppings } = useSelector(\r\n    (state: any) => state.selectedItemsReducer\r\n  );\r\n\r\n  const count = useMemo<number>(\r\n    () =>\r\n      ingredient?.type === \"bun\"\r\n        ? selectedBun.filter((item: TIngredient) => item._id === ingredient._id)\r\n            .length * 2\r\n        : selectedToppings.filter(\r\n            (item: TIngredient) => item._id === ingredient._id\r\n          ).length,\r\n    [ingredient.type, selectedBun, selectedToppings, ingredient._id]\r\n  );\r\n\r\n  const [{ opacity }, dragRef] = useDrag({\r\n    type: \"ingredient\",\r\n    item: ingredient,\r\n    collect: (monitor) => ({\r\n      opacity: monitor.isDragging() ? 0.5 : 1,\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <li className={`${styles.item} mb-7`} style={{ opacity }} ref={dragRef}>\r\n      {count !== 0 ? <Counter count={count} size=\"default\" /> : null}\r\n      <Link\r\n        className={`${styles.link}`}\r\n        key={ingredient._id}\r\n        to={{\r\n          pathname: `/ingredients/${ingredient._id}`,\r\n          state: { background: location },\r\n        }}\r\n      >\r\n        <img src={ingredient.image} alt=\"ingredient\" />\r\n        <div className={`${styles.price} mt-1 mb-2`}>\r\n          <p className=\"text text_type_digits-default mr-2\">\r\n            {ingredient.price}\r\n          </p>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n        <p className=\"text text_type_main-default\">{ingredient.name}</p>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Ingredient;\r\n","// react redux types\r\nimport React, { RefObject, useMemo, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { tabSwitch } from \"../../services/actions/tab\";\r\n\r\n// children components\r\nimport Ingredient from \"./ingredient/ingredient\";\r\n\r\n// ui-components\r\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n// loader\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport { BallTriangle } from \"react-loader-spinner\";\r\n\r\n// utils\r\nimport { TIngredient } from \"../../utils/type\";\r\n\r\n// styles\r\nimport styles from \"./burger-ingredients.module.css\";\r\n\r\nconst BurgerIngredients = (): JSX.Element => {\r\n  const burgerIngredientsElem: HTMLElement | null = document.querySelector(\r\n    \"#burger-ingredients\"\r\n  );\r\n  const bunsElem: HTMLElement | null = document.querySelector(\"#bun\");\r\n  const saucesElem: HTMLElement | null = document.querySelector(\"#sauce\");\r\n  const toppingElem: HTMLElement | null = document.querySelector(\"#topping\");\r\n\r\n  const dispatch = useDispatch();\r\n  const { items } = useSelector((state: any) => state.ingredientsReducer);\r\n  const { currentTab } = useSelector((state: any) => state.tabReducer);\r\n  const { isLoad } = useSelector((state: any) => state.ingredientsReducer);\r\n\r\n  const bunRef = useRef<HTMLHeadingElement>(null);\r\n  const saucesRef = useRef<HTMLHeadingElement>(null);\r\n  const toppingRef = useRef<HTMLHeadingElement>(null);\r\n\r\n  const setCurrentTab = (tab: string): void => {\r\n    dispatch(tabSwitch(tab));\r\n  };\r\n  const setTab = (tab: string, tabRef: RefObject<HTMLHeadingElement>): void => {\r\n    setCurrentTab(tab);\r\n    tabRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  const onScrollPosition = (): void => {\r\n    if (bunsElem && saucesElem && toppingElem && burgerIngredientsElem) {\r\n      const bunsPosition: number = Math.abs(\r\n        bunsElem.getBoundingClientRect().top -\r\n          burgerIngredientsElem.getBoundingClientRect().top\r\n      );\r\n\r\n      const saucesPosition: number = Math.abs(\r\n        saucesElem.getBoundingClientRect().top -\r\n          burgerIngredientsElem.getBoundingClientRect().top\r\n      );\r\n\r\n      const toppingPosition: number = Math.abs(\r\n        toppingElem.getBoundingClientRect().top -\r\n          burgerIngredientsElem.getBoundingClientRect().top\r\n      );\r\n\r\n      bunsPosition < saucesPosition\r\n        ? setCurrentTab(\"bun\")\r\n        : saucesPosition < toppingPosition\r\n        ? setCurrentTab(\"sauce\")\r\n        : setCurrentTab(\"topping\");\r\n    }\r\n  };\r\n\r\n  const typeBun = useMemo<Array<TIngredient>>(() => {\r\n    return items.filter((el: TIngredient) => el.type === \"bun\");\r\n  }, [items]);\r\n\r\n  const typeSauce = useMemo<Array<TIngredient>>(() => {\r\n    return items.filter((el: TIngredient) => el.type === \"sauce\");\r\n  }, [items]);\r\n\r\n  const typeTopping = useMemo<Array<TIngredient>>(() => {\r\n    return items.filter((el: TIngredient) => el.type === \"main\");\r\n  }, [items]);\r\n\r\n  return (\r\n    <section\r\n      className={styles.burgerIngredients}\r\n      id=\"burger-ingredients\"\r\n      onScroll={(): void => onScrollPosition()}\r\n    >\r\n      <div style={{ display: \"flex\" }}>\r\n        <Tab\r\n          value=\"bun\"\r\n          active={currentTab === \"bun\"}\r\n          onClick={(): void => setTab(\"bun\", bunRef)}\r\n        >\r\n          Булки\r\n        </Tab>\r\n        <Tab\r\n          value=\"sauce\"\r\n          active={currentTab === \"sauce\"}\r\n          onClick={(): void => setTab(\"sauce\", saucesRef)}\r\n        >\r\n          Соусы\r\n        </Tab>\r\n        <Tab\r\n          value=\"topping\"\r\n          active={currentTab === \"topping\"}\r\n          onClick={(): void => setTab(\"topping\", toppingRef)}\r\n        >\r\n          Начинки\r\n        </Tab>\r\n      </div>\r\n      <div className={styles.loader}>\r\n        <BallTriangle\r\n          color=\"#4c4cff\"\r\n          height={200}\r\n          width={200}\r\n          visible={isLoad}\r\n        />\r\n      </div>\r\n      <div className={`${styles.container} mt-10`}>\r\n        {typeBun?.length !== 0 ? (\r\n          <>\r\n            <h2 className={`text text_type_main-medium`} id=\"bun\" ref={bunRef}>\r\n              Булки\r\n            </h2>\r\n            <ul className={`${styles.list} mt-6 mb-10 ml-4 mr-2`}>\r\n              {typeBun.map((item: TIngredient) => (\r\n                <Ingredient key={item._id} ingredient={item} />\r\n              ))}\r\n            </ul>\r\n          </>\r\n        ) : null}\r\n        {typeSauce?.length !== 0 ? (\r\n          <>\r\n            <h2\r\n              className={`text text_type_main-medium`}\r\n              id=\"sauce\"\r\n              ref={saucesRef}\r\n            >\r\n              Соусы\r\n            </h2>\r\n            <ul className={`${styles.list} mt-6 mb-10 ml-4 mr-2`}>\r\n              {typeSauce.map((item: TIngredient) => (\r\n                <Ingredient key={item._id} ingredient={item} />\r\n              ))}\r\n            </ul>\r\n          </>\r\n        ) : null}\r\n        {typeTopping?.length !== 0 ? (\r\n          <>\r\n            <h2\r\n              className={`text text_type_main-medium mb-3`}\r\n              id=\"topping\"\r\n              ref={toppingRef}\r\n            >\r\n              Начинки\r\n            </h2>\r\n            <ul className={`${styles.list} mt-6 mb-10 ml-4 mr-2`}>\r\n              {typeTopping.map((item: TIngredient) => (\r\n                <Ingredient key={item._id} ingredient={item} />\r\n              ))}\r\n            </ul>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BurgerIngredients;\r\n","import { Button } from \"./actionTypes\";\r\n\r\nconst { SET_BTN_DISABLED, SET_BTN_ACTIVE } = Button;\r\n\r\nexport const setButtonDisabled = () => ({\r\n  type: SET_BTN_DISABLED,\r\n});\r\n\r\nexport const setButtonActive = () => ({\r\n  type: SET_BTN_ACTIVE,\r\n});\r\n","// react redux types\r\nimport React, { useRef, useCallback, FC } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  deleteSelectedTopping,\r\n  sortTopping,\r\n} from \"../../../services/actions/selected-items\";\r\n\r\n// ui-components\r\nimport {\r\n  ConstructorElement,\r\n  DragIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n// dnd\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport type { XYCoord, Identifier } from \"dnd-core\";\r\n\r\n// styles\r\nimport styles from \"./ingredient.module.css\";\r\n\r\n// utils\r\nimport { TConstructorIngredient, DragItem } from \"../../../utils/type\";\r\n\r\nconst Ingredient: FC<TConstructorIngredient> = ({\r\n  item,\r\n  index,\r\n  id,\r\n  type,\r\n  text,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onDelete = (): void => {\r\n    dispatch(deleteSelectedTopping(item));\r\n  };\r\n\r\n  const moveTopping = useCallback(\r\n    (dragIndex: number, hoverIndex: number) => {\r\n      dispatch(sortTopping(dragIndex, hoverIndex));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const ref = useRef<HTMLLIElement>(null);\r\n\r\n  const [{ handlerId }, drop] = useDrop<\r\n    DragItem,\r\n    void,\r\n    { handlerId: Identifier | null }\r\n  >({\r\n    accept: \"constructor\",\r\n    collect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n      };\r\n    },\r\n    hover(item: DragItem, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n\r\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\r\n\r\n      const hoverMiddleY =\r\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n\r\n      const clientOffset = monitor.getClientOffset();\r\n\r\n      const hoverClientY = (clientOffset as XYCoord).y - hoverBoundingRect.top;\r\n\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n      moveTopping(dragIndex, hoverIndex);\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: \"constructor\",\r\n    item: () => {\r\n      return { id, index };\r\n    },\r\n    collect: (monitor: any) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  const opacity = isDragging ? 0 : 1;\r\n  drag(drop(ref));\r\n\r\n  return (\r\n    <>\r\n      {item?.type === \"bun\" ? (\r\n        <li className={`ml-8 mb-4`}>\r\n          <ConstructorElement\r\n            type={type}\r\n            isLocked={true}\r\n            text={text}\r\n            price={item.price}\r\n            thumbnail={item.image}\r\n          />\r\n        </li>\r\n      ) : (\r\n        <li\r\n          className={`${styles.itemContainer} mb-4`}\r\n          ref={ref}\r\n          style={{ opacity }}\r\n          data-handler-id={handlerId}\r\n        >\r\n          <DragIcon type=\"primary\" />\r\n          <ConstructorElement\r\n            handleClose={onDelete}\r\n            text={item.name}\r\n            price={item.price}\r\n            thumbnail={item.image}\r\n          />\r\n        </li>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Ingredient;\r\n","// react redux types\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { getOrder } from \"../../services/actions/order\";\r\nimport {\r\n  addSelectedBun,\r\n  addSelectedTopping,\r\n} from \"../../services/actions/selected-items\";\r\nimport {\r\n  setButtonActive,\r\n  setButtonDisabled,\r\n} from \"../../services/actions/button\";\r\n\r\n// dnd\r\nimport { useDrop } from \"react-dnd\";\r\n\r\n// children component\r\nimport Ingredient from \"./ingredient/ingredient\";\r\n\r\n// ui-components\r\nimport {\r\n  BurgerIcon,\r\n  Button,\r\n  CurrencyIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n// utils\r\nimport { TIngredient, THistoryState } from \"../../utils/type\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n// styles\r\nimport styles from \"./burger-constructor.module.css\";\r\n\r\nconst BurgerConstructor = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory<THistoryState>();\r\n\r\n  const { selectedBun, selectedToppings } = useSelector(\r\n    (state: any) => state.selectedItemsReducer\r\n  );\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n  const { isBtnDisabled } = useSelector((state: any) => state.buttonReducer);\r\n\r\n  const handleDrop = (item: TIngredient): void => {\r\n    item.uuid = uuidv4();\r\n    item?.type === \"bun\"\r\n      ? dispatch(addSelectedBun(item))\r\n      : dispatch(addSelectedTopping(item));\r\n  };\r\n\r\n  const [{ isHover }, dropTarget] = useDrop({\r\n    accept: \"ingredient\",\r\n    collect: (monitor) => ({\r\n      isHover: monitor.isOver(),\r\n    }),\r\n    drop(item: TIngredient) {\r\n      handleDrop(item);\r\n    },\r\n  });\r\n\r\n  const borderColor: string = isHover ? \"rgb(133, 133, 173)\" : \"transparent\";\r\n\r\n  const totalPrice = useMemo<number>(() => {\r\n    return (\r\n      selectedToppings.reduce(\r\n        (sum: number, item: TIngredient) => sum + item.price,\r\n        0\r\n      ) +\r\n      selectedBun.reduce(\r\n        (sum: number, item: TIngredient) => sum + item.price * 2,\r\n        0\r\n      )\r\n    );\r\n  }, [selectedToppings, selectedBun]);\r\n\r\n  useEffect(() => {\r\n    totalPrice === 0 || selectedBun?.length === 0\r\n      ? dispatch(setButtonDisabled())\r\n      : dispatch(setButtonActive());\r\n  }, [dispatch, totalPrice, selectedBun]);\r\n\r\n  const selectedId = useMemo<Array<string>>(() => {\r\n    return selectedBun.concat(selectedToppings).map((item: any) => item._id);\r\n  }, [selectedBun, selectedToppings]);\r\n\r\n  const handleOpenOrderModal = (): void => {\r\n    if (user?.user) {\r\n      dispatch(getOrder(selectedId));\r\n    } else {\r\n      history.replace({ pathname: \"/login\" });\r\n      return;\r\n    }\r\n  };\r\n\r\n  const renderCard = (item: TIngredient, index: number): JSX.Element => {\r\n    return (\r\n      <Ingredient\r\n        item={item}\r\n        index={index}\r\n        key={item.uuid}\r\n        id={item._id}\r\n        type=\"top\"\r\n        text={item.name}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className={`${styles.burgerConstructor} ml-10 pl-4`}\r\n      style={{ borderColor }}\r\n      ref={dropTarget}\r\n    >\r\n      <ul className={`${styles.list}`}>\r\n        {selectedBun &&\r\n          selectedBun.map((item: TIngredient, index: number) => (\r\n            <Ingredient\r\n              item={item}\r\n              key={item.uuid}\r\n              index={index}\r\n              type={\"top\"}\r\n              text={`${item.name} (верх)`}\r\n              id={item._id}\r\n            />\r\n          ))}\r\n        <div className={`${styles.middleContainer} pr-2`}>\r\n          {selectedToppings &&\r\n            selectedToppings.map((item: TIngredient, index: number) =>\r\n              renderCard(item, index)\r\n            )}\r\n        </div>\r\n        {selectedBun &&\r\n          selectedBun.map((item: TIngredient, index: number) => (\r\n            <Ingredient\r\n              item={item}\r\n              key={item.uuid}\r\n              index={index}\r\n              type={\"bottom\"}\r\n              text={`${item.name} (низ)`}\r\n              id={item._id}\r\n            />\r\n          ))}\r\n      </ul>\r\n      {selectedBun?.length !== 0 || selectedToppings?.length !== 0 ? (\r\n        <div className={`${styles.summary} mt-10 pr-4`}>\r\n          <div className={`${styles.price} mr-10`}>\r\n            <p className=\"text text_type_digits-medium pr-2\">{totalPrice}</p>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n          <Button\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            onClick={handleOpenOrderModal}\r\n            disabled={isBtnDisabled}\r\n          >\r\n            Оформить заказ\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className={`${styles.burgerImg}`}>\r\n            <BurgerIcon type=\"secondary\" />\r\n          </div>\r\n          <p\r\n            className={`${styles.text} text text_type_main-medium text_color_inactive`}\r\n          >\r\n            Для выбора ингредиента перетащите его из левого меню.\r\n          </p>\r\n          <p\r\n            className={`${styles.text} text text_type_main-medium text_color_inactive mt-5`}\r\n          >\r\n            Начните с добавления булки.\r\n          </p>\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BurgerConstructor;\r\n","// react redux types\r\nimport React from \"react\";\r\n\r\n// dnd\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\n// styles\r\nimport styles from \"./main.module.css\";\r\n\r\n// components\r\nimport BurgerIngredients from \"../burger-ingredients/burger-ingredients\";\r\nimport BurgerConstructor from \"../burger-constructor/burger-constructor\";\r\n\r\nconst Main = () => {\r\n  return (\r\n    <main className={`${styles.main} pl-5 pr-5`}>\r\n      <h1 className={`text text_type_main-large mt-10 mb-5`}>\r\n        Соберите бургер\r\n      </h1>\r\n\r\n      <div className={styles.container}>\r\n        <DndProvider backend={HTML5Backend}>\r\n          <BurgerIngredients />\r\n          <BurgerConstructor />\r\n        </DndProvider>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","// react redux types\r\nimport React from \"react\";\r\n\r\n//styles\r\nimport styles from \"./modal-overlay.module.css\";\r\n\r\nconst ModalOverlay = (): JSX.Element => {\r\n  return <div className={`modalOverlay ${styles.modalOverlay}`} />;\r\n};\r\n\r\nexport default ModalOverlay;\r\n","// react redux types\r\nimport React, { FC, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n//components\r\nimport ModalOverlay from \"../modal-overlay/modal-overlay\";\r\n\r\n// ui-components\r\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n//styles\r\nimport styles from \"./modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modals\") as HTMLElement;\r\n\r\ntype TModal = {\r\n  handleClose: () => void;\r\n  children: JSX.Element;\r\n};\r\n\r\nconst Modal: FC<TModal> = ({ handleClose, children }) => {\r\n  useEffect(() => {\r\n    const handleEscClose = (e: KeyboardEvent): void => {\r\n      if (e.key === \"Escape\") {\r\n        handleClose();\r\n      }\r\n    };\r\n\r\n    const handlerOverlayClick = ({ target }: MouseEvent) => {\r\n      const targetDivElement: HTMLDivElement = target as HTMLDivElement;\r\n      if (targetDivElement.classList.contains(\"modalOverlay\")) {\r\n        handleClose();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleEscClose);\r\n    window.addEventListener(\"mousedown\", handlerOverlayClick);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleEscClose);\r\n      window.removeEventListener(\"mousedown\", handlerOverlayClick);\r\n    };\r\n  }, [handleClose]);\r\n\r\n  return ReactDOM.createPortal(\r\n    <>\r\n      <ModalOverlay />\r\n      <div className={`${styles.modal} pt-10 pl-10 pr-10 pb-15`}>\r\n        <div className={styles.close}>\r\n          <CloseIcon type=\"primary\" onClick={handleClose} />\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","// react redux types\r\nimport React, { useMemo } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n// utils\r\nimport { TIngredient } from \"../../utils/type\";\r\n\r\n//styles\r\nimport styles from \"./ingredient-details.module.css\";\r\n\r\nconst IngredientDetails = (): JSX.Element => {\r\n  const { items } = useSelector((state: any) => state.ingredientsReducer);\r\n\r\n  const ID: string = useParams<{ id: string }>().id;\r\n\r\n  const currentIngredient = useMemo<TIngredient>(\r\n    () => items.filter((item: TIngredient) => item._id === ID)[0],\r\n    [items, ID]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {currentIngredient && (\r\n        <div className={`${styles.container} mt-3`}>\r\n          <h2 className=\"text text_type_main-large\">Детали ингредиента</h2>\r\n          <div className={`${styles.ingredient} mt-3`}>\r\n            <img\r\n              src={currentIngredient.image}\r\n              className={`${styles.image} pl-5 pr-5 mt-3 mb-4`}\r\n              alt={currentIngredient.name}\r\n            />\r\n            <h3 className={`${styles.name} text text_type_main-medium mb-8`}>\r\n              {currentIngredient.name}\r\n            </h3>\r\n            <ul className={`${styles.info}`}>\r\n              <li\r\n                className={`${styles.item} text text_type_main-default text_color_inactive pl-2 pr-2`}\r\n              >\r\n                <p className=\"text text_type_main-default text_color_inactive\">\r\n                  Калории,ккал\r\n                </p>\r\n                <p className=\"text text_type_digits-default text_color_inactive\">\r\n                  {currentIngredient.calories}\r\n                </p>\r\n              </li>\r\n              <li\r\n                className={`${styles.item} text text_type_main-default text_color_inactive pl-2 pr-2`}\r\n              >\r\n                <p className=\"text text_type_main-default text_color_inactive\">\r\n                  Белки, г\r\n                </p>\r\n                <p className=\"text text_type_digits-default text_color_inactive\">\r\n                  {currentIngredient.proteins}\r\n                </p>\r\n              </li>\r\n              <li\r\n                className={`${styles.item} text text_type_main-default text_color_inactive pl-2 pr-2`}\r\n              >\r\n                <p className=\"text text_type_main-default text_color_inactive\">\r\n                  Жиры, г\r\n                </p>\r\n                <p className=\"text text_type_digits-default text_color_inactive\">\r\n                  {currentIngredient.fat}\r\n                </p>\r\n              </li>\r\n              <li\r\n                className={`${styles.item} text text_type_main-default text_color_inactive pl-2 pr-2`}\r\n              >\r\n                <p className=\"text text_type_main-default text_color_inactive\">\r\n                  Углеводы, г\r\n                </p>\r\n                <p className=\"text text_type_digits-default text_color_inactive\">\r\n                  {currentIngredient.carbohydrates}\r\n                </p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngredientDetails;\r\n","export default __webpack_public_path__ + \"static/media/vector1.212deacc.svg\";","export default __webpack_public_path__ + \"static/media/vector2.108e071d.svg\";","export default __webpack_public_path__ + \"static/media/vector3.9ffee6b1.svg\";","export default __webpack_public_path__ + \"static/media/stroke.bd47ec5e.svg\";","// react redux types\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n// image\r\nimport vector1 from \"../../images/vector1.svg\";\r\nimport vector2 from \"../../images/vector2.svg\";\r\nimport vector3 from \"../../images/vector3.svg\";\r\nimport stroke from \"../../images/stroke.svg\";\r\n\r\n//styles\r\nimport styles from \"./order-details.module.css\";\r\n\r\nconst OrderDetails = (): JSX.Element => {\r\n  const { order } = useSelector((state: any) => state.orderReducer);\r\n\r\n  return (\r\n    <div className={`${styles.orderDetails} pt-20 pb-15`}>\r\n      <h2 className={`${styles.title} text text_type_digits-large mb-8`}>\r\n        {order.number}\r\n      </h2>\r\n      <p className=\"text text_type_main-medium\">идентификатор заказа</p>\r\n      <div className={`${styles.image} mt-15 mb-15`}>\r\n        <img src={vector1} className={`${styles.vector1}`} alt=\"готово\" />\r\n        <img src={vector2} className={`${styles.vector2}`} alt=\"готово\" />\r\n        <img src={vector3} className={`${styles.vector3}`} alt=\"готово\" />\r\n        <img src={stroke} className={`${styles.stroke} `} alt=\"готово\" />\r\n      </div>\r\n      <p className=\"text text_type_main-default mb-2\">\r\n        Ваш заказ начали готовить\r\n      </p>\r\n      <p className=\"text text_type_main-default text_color_inactive\">\r\n        Дождитесь готовности на орбитальной станции\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetails;\r\n","// react redux types\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n//styles\r\nimport styles from \"./err.module.css\";\r\n\r\nconst Err = (): JSX.Element => {\r\n  const { error } = useSelector((state: any) => state.modalReducer);\r\n\r\n  return (\r\n    <div className={`${styles.container} mt-20 mb-20`}>\r\n      <h2 className=\"text text_type_main-large\">\r\n        Ошибка выполнения запроса: {error}\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Err;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect, RouteProps } from \"react-router-dom\";\r\n\r\n//RouteProps\r\nconst ProtectedRoute = ({ children, ...rest }: RouteProps) => {\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n  const [isUserLoaded, setUserLoaded] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setUserLoaded(true);\r\n  }, []);\r\n\r\n  if (!isUserLoaded) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        user?.user ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n\r\n","// react redux types\r\nimport React, {ChangeEvent, FormEvent, useState} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport { authorize } from \"../../services/actions/user\";\r\n\r\n// styles\r\nimport styles from \"./login.module.css\";\r\n\r\n// ui-components\r\nimport {\r\n  EmailInput,\r\n  PasswordInput,\r\n  Button,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport {TLocationState} from \"../../utils/type\";\r\n\r\nconst LoginPage = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation<TLocationState>();\r\n\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n\r\n  const [form, setValue] = useState({ email: \"\", password: \"\" });\r\n\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent): void => {\r\n    e.preventDefault();\r\n    dispatch(authorize(form.email, form.password));\r\n  };\r\n\r\n  const isToken: string | null = localStorage.getItem(\"refreshToken\");\r\n  if (isToken && user?.user) {\r\n    return <Redirect to={location?.state?.from || \"/\"} />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <form className={`${styles.form}`} onSubmit={handleSubmit}>\r\n        <h1 className={`text text_type_main-medium mb-6`}>Вход</h1>\r\n        <EmailInput value={form.email} name=\"email\" onChange={onChange} />\r\n        <PasswordInput\r\n          value={form.password}\r\n          name=\"password\"\r\n          onChange={onChange}\r\n        />\r\n        <div className={`${styles.container}`}>\r\n          <Button type=\"primary\" size=\"medium\">\r\n            Войти\r\n          </Button>\r\n        </div>\r\n        <p className=\"text text_type_main-default text_color_inactive mb-4\">\r\n          Вы — новый пользователь?\r\n          <Link\r\n            to={{ pathname: \"/register\" }}\r\n            className={`${styles.link} ml-2`}\r\n          >\r\n            Зарегистрироваться\r\n          </Link>\r\n        </p>\r\n        <p className=\"text text_type_main-default text_color_inactive\">\r\n          Забыли пароль?\r\n          <Link\r\n            to={{ pathname: \"/forgot-password\" }}\r\n            className={`${styles.link} ml-2`}\r\n          >\r\n            Восстановить пароль\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","// react redux types\r\nimport React, {useState, useCallback, ChangeEvent, FormEvent} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { register } from \"../../services/actions/user\";\r\n\r\n// styles\r\nimport styles from \"./register.module.css\";\r\n\r\n// ui-components\r\nimport {\r\n  Input,\r\n  EmailInput,\r\n  PasswordInput,\r\n  Button,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport {TForm} from \"../../utils/type\";\r\n\r\nconst RegisterPage = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n\r\n  const [form, setValue] = useState<TForm>({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = useCallback(\r\n    (e: FormEvent): void => {\r\n      e.preventDefault();\r\n      dispatch(register(form.email, form.password, form.name));\r\n    },\r\n    [dispatch, form]\r\n  );\r\n\r\n  if (user?.user) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <form className={`${styles.form}`} onSubmit={handleSubmit}>\r\n        <h1 className={`text text_type_main-medium mb-6`}>Регистрация</h1>\r\n        <Input\r\n          type={\"text\"}\r\n          placeholder={\"Имя\"}\r\n          value={form.name}\r\n          name=\"name\"\r\n          onChange={onChange}\r\n          error={false}\r\n          errorText={\"Ошибка\"}\r\n        />\r\n        <EmailInput value={form.email} name=\"email\" onChange={onChange} />\r\n        <PasswordInput\r\n          value={form.password}\r\n          name=\"password\"\r\n          onChange={onChange}\r\n        />\r\n        <div className={`${styles.container}`}>\r\n          <Button type=\"primary\" size=\"medium\">\r\n            Зарегистрироваться\r\n          </Button>\r\n        </div>\r\n        <p className=\"text text_type_main-default text_color_inactive mb-4\">\r\n          Уже зарегистрированы?\r\n          <Link to={{ pathname: \"/login\" }} className={`${styles.link} ml-2`}>\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import { openErrModal, setError } from \"./modal\";\r\nimport { Password } from \"./actionTypes\";\r\n\r\n// utils\r\nimport { API_URL } from \"../../utils/constants\";\r\n\r\nconst {\r\n  SET_FORGOT_PASSWORD_REQUEST,\r\n  SET_FORGOT_PASSWORD_SUCCESS,\r\n  SET_FORGOT_PASSWORD_FAILED,\r\n  SET_RESET_PASSWORD_REQUEST,\r\n  SET_RESET_PASSWORD_SUCCESS,\r\n  SET_RESET_PASSWORD_FAILED,\r\n} = Password;\r\n\r\nexport function forgotPassword(email) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: SET_FORGOT_PASSWORD_REQUEST,\r\n    });\r\n    fetch(`${API_URL}password-reset`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: SET_FORGOT_PASSWORD_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: SET_FORGOT_PASSWORD_SUCCESS,\r\n            forgot_password: data,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_FORGOT_PASSWORD_FAILED,\r\n        });\r\n        dispatch(setError(`forgotPassword ${err}`));\r\n        dispatch(openErrModal());\r\n      });\r\n  };\r\n}\r\n\r\nexport function resetPassword(password, token) {\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: SET_RESET_PASSWORD_REQUEST,\r\n    });\r\n    fetch(`${API_URL}password-reset/reset`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ password, token }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: SET_RESET_PASSWORD_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        if (data.success) {\r\n          dispatch({\r\n            type: SET_RESET_PASSWORD_SUCCESS,\r\n            reset_password: data,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_RESET_PASSWORD_FAILED,\r\n        });\r\n        dispatch(setError(`resetPassword ${err}`));\r\n        dispatch(openErrModal());\r\n      });\r\n  };\r\n}\r\n","// react redux types\r\nimport React, {useState, useCallback, ChangeEvent, FormEvent} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { forgotPassword } from \"../../services/actions/password\";\r\n\r\n// ui-components\r\nimport {\r\n  EmailInput,\r\n  Button,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n// styles\r\nimport styles from \"./forgot-password.module.css\";\r\n\r\nconst ForgotPasswordPage = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { forgot_password } = useSelector(\r\n    (state: any) => state.forgotPasswordReducer\r\n  );\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n\r\n  const [email, setEmailValue] = useState<string>(\"\");\r\n\r\n  const onChangeEmail = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setEmailValue(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = useCallback(\r\n    (e: FormEvent): void => {\r\n      e.preventDefault();\r\n      dispatch(forgotPassword(email));\r\n    },\r\n    [dispatch, email]\r\n  );\r\n\r\n  if (user?.user) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (forgot_password?.success) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/reset-password\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <form className={`${styles.form}`} onSubmit={handleSubmit}>\r\n        <h1 className={`text text_type_main-medium mb-6`}>\r\n          Восстановление пароля\r\n        </h1>\r\n        <EmailInput onChange={onChangeEmail} value={email} name=\"email\" />\r\n\r\n        <div className={`${styles.container}`}>\r\n          <Button type=\"primary\" size=\"medium\">\r\n            Восстановить\r\n          </Button>\r\n        </div>\r\n        <p className=\"text text_type_main-default text_color_inactive mb-4\">\r\n          Вспомнили пароль?\r\n          <Link to={{ pathname: \"/login\" }} className={`${styles.link} ml-2`}>\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordPage;\r\n","// react redux types\r\nimport React, {useState, useCallback, ChangeEvent, FormEvent} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { resetPassword } from \"../../services/actions/password\";\r\n\r\n// styles\r\nimport styles from \"./reset-password.module.css\";\r\n\r\n// ui-components\r\nimport {\r\n  Input,\r\n  PasswordInput,\r\n  Button,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\n// utils\r\nimport {TResetPasswordForm} from \"../../utils/type\";\r\n\r\nconst ResetPasswordPage = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { reset_password } = useSelector((state: any) => state.resetPasswordReducer);\r\n  const { forgot_password } = useSelector(\r\n    (state: any) => state.forgotPasswordReducer\r\n  );\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n\r\n  const [form, setValue] = useState<TResetPasswordForm>({\r\n    code: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = useCallback(\r\n    (e: FormEvent): void => {\r\n      e.preventDefault();\r\n      dispatch(resetPassword(form.password, form.code));\r\n    },\r\n    [dispatch, form]\r\n  );\r\n\r\n  if (reset_password?.success) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/login\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (user?.user || forgot_password?.success === undefined) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <form className={`${styles.form}`} onSubmit={handleSubmit}>\r\n        <h1 className={`text text_type_main-medium mb-6`}>\r\n          Восстановление пароля\r\n        </h1>\r\n        <PasswordInput\r\n          value={form.password}\r\n          name=\"password\"\r\n          onChange={onChange}\r\n        />\r\n        <Input\r\n          type={\"text\"}\r\n          placeholder={\"Введите код из письма\"}\r\n          onChange={onChange}\r\n          value={form.code}\r\n          name={\"code\"}\r\n          error={false}\r\n          errorText={\"Ошибка\"}\r\n        />\r\n\r\n        <div className={`${styles.container}`}>\r\n          <Button type=\"primary\" size=\"medium\">\r\n            Сохранить\r\n          </Button>\r\n        </div>\r\n        <p className=\"text text_type_main-default text_color_inactive mb-4\">\r\n          Вспомнили пароль?\r\n          <Link to={{ pathname: \"/login\" }} className={`${styles.link} ml-2`}>\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPasswordPage;\r\n","// react redux types\r\nimport React, {\r\n  useState,\r\n  useCallback,\r\n  useEffect,\r\n  ChangeEvent,\r\n  FocusEvent,\r\n  FormEvent,\r\n} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateUser } from \"../../services/actions/user\";\r\n\r\n// styles\r\nimport styles from \"./user-form.module.css\";\r\n\r\n// ui-components\r\nimport {\r\n  Input,\r\n  PasswordInput,\r\n  Button,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { TForm } from \"../../utils/type\";\r\nimport { TICons } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons\";\r\n\r\nconst UserForm = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useSelector((state: any) => state.userReducer);\r\n\r\n  const nameRef = React.useRef<HTMLInputElement>(null);\r\n  const emailRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  const [form, setValue] = useState<TForm>({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [showButton, setShowButton] = useState<boolean>(false);\r\n  const [iconOnName, setIconOnName] = useState<keyof TICons | undefined>(\r\n    \"EditIcon\"\r\n  );\r\n  const [iconOnEmail, setIconOnEmail] = useState<keyof TICons | undefined>(\r\n    \"EditIcon\"\r\n  );\r\n\r\n  const [focusOnName, setFocusOnName] = useState<boolean>(false);\r\n  const [focusOnEmail, setFocusOnEmail] = useState<boolean>(false);\r\n\r\n  const [nameErr, setNameErr] = useState<boolean>(false);\r\n  const [emailErr, setEmailErr] = useState<boolean>(false);\r\n\r\n  useEffect((): void => {\r\n    user?.user &&\r\n      setValue({\r\n        name: user.user.name,\r\n        email: user.user.email,\r\n        password: \"\",\r\n      });\r\n  }, [user?.user]);\r\n\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    e.target.name === \"name\" && e.target.value.length < 1\r\n      ? setNameErr(true)\r\n      : setNameErr(false);\r\n    e.target.name === \"email\" && e.target.value.length < 1\r\n      ? setEmailErr(true)\r\n      : setEmailErr(false);\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n    setShowButton(true);\r\n  };\r\n\r\n  const handleSubmit = useCallback(\r\n    (e: FormEvent) => {\r\n      e.preventDefault();\r\n      const reg = /^([a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$)$/;\r\n      if (form.name.length < 1) {\r\n        setNameErr(true);\r\n      } else if (form.email.length < 1 || reg.test(form.email) === false) {\r\n        setEmailErr(true);\r\n      } else dispatch(updateUser(form.email, form.password, form.name));\r\n      setShowButton(false);\r\n    },\r\n    [dispatch, form]\r\n  );\r\n\r\n  const handleCancel = (): void => {\r\n    setNameErr(false);\r\n    setEmailErr(false);\r\n    setValue({\r\n      name: user.user.name,\r\n      email: user.user.email,\r\n      password: \"\",\r\n    });\r\n    setShowButton(false);\r\n  };\r\n\r\n  const changeIconOnFocus = (e: FocusEvent<HTMLInputElement>): void => {\r\n    if (e.target.name === \"name\") {\r\n      setFocusOnName(true);\r\n      setIconOnName(\"CloseIcon\");\r\n    } else if (e.target.name === \"email\") {\r\n      setFocusOnEmail(true);\r\n      setIconOnEmail(\"CloseIcon\");\r\n    }\r\n  };\r\n\r\n  const changeIconOnBlur = (e: FocusEvent<HTMLInputElement>): void => {\r\n    if (e.target.name === \"name\") {\r\n      setFocusOnName(false);\r\n      setIconOnName(\"EditIcon\");\r\n    } else if (e.target.name === \"email\") {\r\n      setFocusOnEmail(false);\r\n      setIconOnEmail(\"EditIcon\");\r\n    }\r\n  };\r\n\r\n  const handleNameIconClick = () => {\r\n    setFocusOnName(true);\r\n    setNameErr(false);\r\n    setTimeout(() => {\r\n      nameRef.current?.focus();\r\n    }, 0);\r\n  };\r\n\r\n  const handleEmailIconClick = () => {\r\n    setFocusOnEmail(true);\r\n    setEmailErr(false);\r\n    setTimeout(() => {\r\n      emailRef.current?.focus();\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={`${styles.form}`}>\r\n      <Input\r\n        type={\"text\"}\r\n        placeholder={\"Имя\"}\r\n        value={form.name}\r\n        name=\"name\"\r\n        onChange={onChange}\r\n        icon={iconOnName}\r\n        error={nameErr}\r\n        errorText={`Ошибка. Поле \"Имя\" не может быть пустым.`}\r\n        onFocus={changeIconOnFocus}\r\n        onBlur={changeIconOnBlur}\r\n        ref={nameRef}\r\n        onIconClick={handleNameIconClick}\r\n        disabled={!focusOnName}\r\n      />\r\n      <Input\r\n        type={\"email\"}\r\n        placeholder={\"Email\"}\r\n        value={form.email}\r\n        name=\"email\"\r\n        onChange={onChange}\r\n        icon={iconOnEmail}\r\n        error={emailErr}\r\n        errorText={`Ошибка. Введите корректный адрес Email.`}\r\n        onFocus={changeIconOnFocus}\r\n        onBlur={changeIconOnBlur}\r\n        ref={emailRef}\r\n        onIconClick={handleEmailIconClick}\r\n        disabled={!focusOnEmail}\r\n      />\r\n      <PasswordInput\r\n        value={form.password}\r\n        name=\"password\"\r\n        onChange={onChange}\r\n      />\r\n      {showButton && (\r\n        <div className={styles.buttonContainer}>\r\n          <Button type=\"secondary\" size=\"medium\" onClick={handleCancel}>\r\n            Отмена\r\n          </Button>\r\n          <Button type=\"primary\" size=\"medium\">\r\n            Сохранить\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","// react redux types\r\nimport React from \"react\";\r\n\r\n//styles\r\n//import styles from \"./order-history.module.css\";\r\n\r\nconst OrderHistory = (): JSX.Element => {\r\n  return <></>;\r\n};\r\n\r\nexport default OrderHistory;\r\n","// react redux types\r\nimport React from \"react\";\r\nimport { NavLink, useHistory, useLocation } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport {  deleteUser } from \"../../services/actions/user\";\r\n\r\n// components\r\nimport UserForm from \"../../components/user-form/user-form\";\r\nimport OrderHistory from \"../../components/order-history/order-history\";\r\n\r\n// styles\r\nimport styles from \"./profile.module.css\";\r\n\r\n// utils\r\nimport {THistoryState, TLocationState} from \"../../utils/type\";\r\nimport { token } from \"../../utils/constants\";\r\n\r\nconst ProfilePage = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory<THistoryState>();\r\n  const { pathname } = useLocation<TLocationState>();\r\n\r\n\r\n  const logout = () => {\r\n    dispatch(deleteUser(token));\r\n    localStorage.removeItem(\"refreshToken\");\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <nav>\r\n        <ul className={`${styles.list} mb-4`}>\r\n          <li className={`mb-9`}>\r\n            <NavLink\r\n              to={{ pathname: `/profile` }}\r\n              className={`${styles.item} text_type_main-medium text_color_inactive`}\r\n              activeClassName={`${styles.activeItem}`}\r\n              exact\r\n            >\r\n              Профиль\r\n            </NavLink>\r\n          </li>\r\n          <li className={`mb-9`}>\r\n            <NavLink\r\n              to={{ pathname: \"/profile/orders\" }}\r\n              className={`${styles.item} text_type_main-medium text_color_inactive`}\r\n              activeClassName={`${styles.activeItem}`}\r\n            >\r\n              История заказов\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <button\r\n              onClick={logout}\r\n              className={`${styles.exit} text_type_main-medium text_color_inactive`}\r\n            >\r\n              Выход\r\n            </button>\r\n          </li>\r\n        </ul>\r\n        <p\r\n          className={`${styles.description} text text_type_main-default text_color_inactive ml-5`}\r\n        >\r\n          В этом разделе вы можете <br /> изменить свои персональные данные\r\n        </p>\r\n      </nav>\r\n      {pathname === \"/profile\" && <UserForm />}\r\n      {pathname === \"/profile/orders\" && <OrderHistory />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n","// react redux types\r\nimport React from \"react\";\r\n\r\n// styles\r\nimport styles from \"./ingredient.module.css\";\r\n\r\n// components\r\nimport IngredientDetails from \"../../components/ingredient-details/ingredient-details\";\r\n\r\nconst IngredientPage = (): JSX.Element => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <IngredientDetails />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IngredientPage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport styles from \"./err404.module.css\";\r\n\r\nconst NotFound404 = (): JSX.Element => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.container}>\r\n        <div className={styles.content}>\r\n          <h1 className=\"text text_type_main-large text_color_inactive pb-20\">\r\n            Упс! Ошибка 404\r\n          </h1>\r\n          <p className=\"text text_type_main-medium text_color_inactive\">\r\n            Запрошенная вами страница не существует &#128579;\r\n          </p>\r\n          <br />\r\n          <br />\r\n          <p className=\"text text_type_main-medium text_color_inactive\">\r\n            проверьте адрес или перейдите на{\" \"}\r\n            <Link\r\n              to={{ pathname: \"/\" }}\r\n              className={`${styles.link} text text_type_main-medium`}\r\n            >\r\n              домашнюю страницу\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound404;\r\n","// react redux types\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\r\n\r\n// services\r\nimport { getItems } from \"../../services/actions/ingredients\";\r\nimport { getUser, updateToken } from \"../../services/actions/user\";\r\n\r\nimport { closeErrModal, closeOrderModal } from \"../../services/actions/modal\";\r\nimport { deleteCurrentOrder } from \"../../services/actions/order\";\r\nimport {\r\n  deleteSelectedBuns,\r\n  deleteSelectedToppings,\r\n} from \"../../services/actions/selected-items\";\r\n\r\n//components\r\nimport AppHeader from \"../app-header/app-header\";\r\nimport Main from \"../main/main\";\r\nimport Modal from \"../modal/modal\";\r\nimport IngredientDetails from \"../ingredient-details/ingredient-details\";\r\nimport OrderDetails from \"../order-details/order-details\";\r\nimport Err from \"../err/err\";\r\nimport ProtectedRoute from \"../protected-route/protected-route\";\r\n\r\n// pages\r\nimport LoginPage from \"../../pages/login/login\";\r\nimport RegisterPage from \"../../pages/register/register\";\r\nimport ForgotPasswordPage from \"../../pages/forgot-password/forgot-password\";\r\nimport ResetPasswordPage from \"../../pages/reset-password/reset-password\";\r\nimport ProfilePage from \"../../pages/profile/profile\";\r\nimport IngredientPage from \"../../pages/ingredient/ingredient\";\r\nimport NotFound404 from \"../../pages/err404/err404\";\r\n\r\n// utils\r\nimport { THistoryState, TLocationState } from \"../../utils/type\";\r\n\r\n// styles\r\nimport styles from \"./app.module.css\";\r\n\r\nconst App = (): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation<TLocationState>();\r\n  const history = useHistory<THistoryState>();\r\n\r\n  const background = location?.state && location.state.background;\r\n\r\n  const { isOrderModalVisible, isErrModalVisible } = useSelector(\r\n    (state: any) => state.modalReducer\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(getItems());\r\n    dispatch(getUser());\r\n    updateToken();\r\n  }, [dispatch]);\r\n\r\n  const handleCloseIngredientModal = (): void => {\r\n    history.goBack();\r\n  };\r\n\r\n  const handleCloseOrderModal = (): void => {\r\n    dispatch(closeOrderModal());\r\n    dispatch(deleteCurrentOrder());\r\n    dispatch(deleteSelectedBuns());\r\n    dispatch(deleteSelectedToppings());\r\n  };\r\n\r\n  const handleCloseErrModal = (): void => {\r\n    dispatch(closeErrModal());\r\n  };\r\n\r\n  return (\r\n    <div className={styles.app}>\r\n      <AppHeader />\r\n      <Switch location={background || location}>\r\n        <Route path=\"/\" exact>\r\n          <Main />\r\n        </Route>\r\n        <Route path=\"/login\">\r\n          <LoginPage />\r\n        </Route>\r\n        <Route path=\"/register\">\r\n          <RegisterPage />\r\n        </Route>\r\n        <Route path=\"/forgot-password\">\r\n          <ForgotPasswordPage />\r\n        </Route>\r\n        <Route path=\"/reset-password\">\r\n          <ResetPasswordPage />\r\n        </Route>\r\n        <Route path=\"/ingredients/:id\" children={<IngredientPage />} />\r\n        <ProtectedRoute path=\"/profile\">\r\n          <ProfilePage />\r\n        </ProtectedRoute>\r\n        <Route>\r\n          <NotFound404 />\r\n        </Route>\r\n      </Switch>\r\n      {background && (\r\n        <Route\r\n          path=\"/ingredients/:id\"\r\n          children={\r\n            <Modal handleClose={handleCloseIngredientModal}>\r\n              <IngredientDetails />\r\n            </Modal>\r\n          }\r\n        />\r\n      )}\r\n      {isOrderModalVisible && (\r\n        <Modal handleClose={handleCloseOrderModal}>\r\n          <OrderDetails />\r\n        </Modal>\r\n      )}\r\n      {isErrModalVisible && (\r\n        <Modal handleClose={handleCloseErrModal}>\r\n          <Err />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { Ingredients } from \"./actionTypes\";\r\nimport { openErrModal, setError } from \"./modal\";\r\n\r\n// utils\r\nimport { API_URL } from \"../../utils/constants\";\r\n\r\nexport function getItems() {\r\n  const { GET_ITEMS_REQUEST, GET_ITEMS_SUCCESS, GET_ITEMS_FAILED } =\r\n    Ingredients;\r\n\r\n  return function (dispatch) {\r\n    dispatch({\r\n      type: GET_ITEMS_REQUEST,\r\n    });\r\n    fetch(`${API_URL}ingredients`)\r\n      .then((res /*: Response*/) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          dispatch({\r\n            type: GET_ITEMS_FAILED,\r\n          });\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n      .then((data) => {\r\n        dispatch({\r\n          type: GET_ITEMS_SUCCESS,\r\n          items: data.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: GET_ITEMS_FAILED,\r\n        });\r\n        dispatch(openErrModal());\r\n        dispatch(setError(`getItems ${err}`));\r\n      });\r\n  };\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// react redux types\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { store } from \"./services/store\";\r\n\r\n// styles\r\nimport \"./index.css\";\r\n\r\n// children components\r\nimport App from \"./components/app/app\";\r\n\r\n// utils\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient-details_container__1rRjF\",\"ingredient\":\"ingredient-details_ingredient__2fwBi\",\"image\":\"ingredient-details_image__3S2tG\",\"name\":\"ingredient-details_name__2uAj3\",\"info\":\"ingredient-details_info__227R4\",\"item\":\"ingredient-details_item__12Gl3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerConstructor\":\"burger-constructor_burgerConstructor__1lPyN\",\"text\":\"burger-constructor_text__3CIux\",\"burgerImg\":\"burger-constructor_burgerImg__1rFGW\",\"list\":\"burger-constructor_list__2JohF\",\"middleContainer\":\"burger-constructor_middleContainer__2zFY8\",\"summary\":\"burger-constructor_summary__KJCVi\",\"price\":\"burger-constructor_price__1gqni\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile_wrapper__iA0sE\",\"list\":\"profile_list__YhgTr\",\"item\":\"profile_item__1sbFV\",\"exit\":\"profile_exit__3bA6E\",\"activeItem\":\"profile_activeItem__dnhvu\",\"description\":\"profile_description__3aV5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderDetails\":\"order-details_orderDetails__3Pwkv\",\"title\":\"order-details_title__20kNq\",\"image\":\"order-details_image__1Cylb\",\"stroke\":\"order-details_stroke__1rUKD\",\"vector1\":\"order-details_vector1__2AB7q\",\"rotation\":\"order-details_rotation__3pHAK\",\"vector2\":\"order-details_vector2__100Uf\",\"vector3\":\"order-details_vector3__3Ilup\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerIngredients\":\"burger-ingredients_burgerIngredients__1WB_z\",\"container\":\"burger-ingredients_container__2ye6O\",\"list\":\"burger-ingredients_list__KSvaX\",\"loader\":\"burger-ingredients_loader__2BGfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__8q2Ht\",\"form\":\"login_form__2xae5\",\"container\":\"login_container__3rG5v\",\"link\":\"login_link__3AIyt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"register_wrapper__2-A_t\",\"form\":\"register_form__2YCuj\",\"container\":\"register_container__2a4OK\",\"link\":\"register_link__fNuhD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"forgot-password_wrapper__3xdV4\",\"form\":\"forgot-password_form__3VtqI\",\"container\":\"forgot-password_container__2rpMi\",\"link\":\"forgot-password_link__2fMrh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"reset-password_wrapper__307D8\",\"form\":\"reset-password_form__2KOMb\",\"container\":\"reset-password_container__1JFec\",\"link\":\"reset-password_link__RxRAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"err404_wrapper__3CYC9\",\"container\":\"err404_container__3qL_l\",\"content\":\"err404_content__22lef\",\"link\":\"err404_link__ICQnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"ingredient_link__37zW_\",\"item\":\"ingredient_item__MWlnl\",\"price\":\"ingredient_price__12lL-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__1VeOx\",\"container\":\"main_container__2zaAZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__QjxD8\",\"close\":\"modal_close__2HRwr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"user-form_form__34ymu\",\"buttonContainer\":\"user-form_buttonContainer__2qLd6\"};"],"sourceRoot":""}