(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{117:function(e,t,n){e.exports={loader:"loader_loader__2lGJw"}},118:function(e,t,n){e.exports={itemContainer:"ingredient_itemContainer__22Aka"}},119:function(e,t,n){e.exports={modalOverlay:"modal-overlay_modalOverlay__2DmsG"}},120:function(e,t,n){e.exports={container:"err_container__G_leO"}},121:function(e,t,n){e.exports={container:"ingredient_container__3MqLf"}},122:function(e,t,n){e.exports={container:"order_container__2qttu"}},123:function(e,t,n){e.exports={app:"app_app__jl1xF"}},136:function(e,t,n){},15:function(e,t,n){e.exports={header:"app-header_header__Vw8Ue",container:"app-header_container__3WK9m",logoContainer:"app-header_logoContainer__2a6c6",nav:"app-header_nav__qxaLC",navLink:"app-header_navLink__VapAo",activeNavLink:"app-header_activeNavLink__3wZk3",profile:"app-header_profile__HrcT9"}},21:function(e,t,n){e.exports={main:"feed-info_main__OpoCR",order_container:"feed-info_order_container__RzYLL",done:"feed-info_done__2lGFh",created:"feed-info_created__pE__9",done_orders:"feed-info_done_orders__jS7Mh",done_number:"feed-info_done_number__3lKpZ",created_orders:"feed-info_created_orders__3cvB5",num_large:"feed-info_num_large__jgmfT"}},217:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(38),i=n.n(a),s=n(5),o=n(49),u=n(31),l=n(114),d=n(2),j="GET_ITEMS_REQUEST",m="GET_ITEMS_SUCCESS",p="GET_ITEMS_FAILED",b="GET_ORDER_REQUEST",_="GET_ORDER_SUCCESS",f="GET_ORDER_FAILED",O="DELETE_CURRENT_ORDER",x="OPEN_ORDER_MODAL",h="CLOSE_ORDER_MODAL",v="OPEN_ERR_MODAL",g="CLOSE_ERR_MODAL",y="SET_ERR",N="ADD_SELECTED_BUN",E="ADD_SELECTED_TOPPING",w="DELETE_SELECTED_BUNS",S="DELETE_SELECTED_TOPPINGS",R="DELETE_SELECTED_TOPPING",C="SORT_TOPPING",T="SET_USER_REQUEST",k="SET_USER_SUCCESS",I="SET_USER_FAILED",D="AUTHORIZE_REQUEST",F="AUTHORIZE_SUCCESS",U="AUTHORIZE_FAILED",P="GET_USER_REQUEST",L="GET_USER_SUCCESS",A="GET_USER_FAILED",M="UPDATE_USER_REQUEST",q="UPDATE_USER_SUCCESS",B="UPDATE_USER_FAILED",G="DELETE_USER_REQUEST",W="DELETE_USER_SUCCESS",z="DELETE_USER_FAILED",V="UPDATE_TOKEN_REQUEST",J="UPDATE_TOKEN_SUCCESS",Q="UPDATE_TOKEN_FAILED",H="SET_FORGOT_PASSWORD_REQUEST",K="SET_FORGOT_PASSWORD_SUCCESS",Z="SET_FORGOT_PASSWORD_FAILED",Y="SET_RESET_PASSWORD_REQUEST",X="SET_RESET_PASSWORD_SUCCESS",$="SET_RESET_PASSWORD_FAILED",ee="SET_BTN_DISABLED",te="SET_BTN_ACTIVE",ne="TAB_SWITCH",re="WS_CONNECTION_START",ce="WS_CONNECTION_SUCCESS",ae="WS_CONNECTION_ERROR",ie="WS_CONNECTION_CLOSED",se="WS_GET_ALL_FEEDS",oe="WS_GET_USER_FEEDS",ue="WS_SEND_MESSAGE",le={items:[],itemsRequest:!1,itemsFailed:!1},de=n(30),je={selectedBun:[],selectedToppings:[]},me={order:{},orderRequest:!1,orderFailed:!1},pe={isOrderModalVisible:!1,isErrModalVisible:!1,error:""},be={isBtnDisabled:!1},_e={currentTab:"bun"},fe={forgot_password:{},forgot_passwordRequest:!1,forgot_passwordFailed:!1,reset_password:{},reset_passwordRequest:!1,reset_passwordFailed:!1},Oe={data:{},user:{},token:{},userRequest:!1,userFailed:!1,isLoggedIn:!1,authRequest:!1,authFailed:!1,currentUserRequest:!1,currentUserFailed:!1,deleteUserRequest:!1,deleteUserFailed:!1,updateTokenRequest:!1,updateTokenFailed:!1},xe={wsConnected:!1,feeds:{orders:[],total:0,totalToday:0},userFeeds:{orders:[],total:0,totalToday:0},error:null},he=Object(u.b)({ingredientsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{itemsRequest:!0});case m:return Object(d.a)(Object(d.a)({},e),{},{itemsFailed:!1,items:t.items,itemsRequest:!1});case p:return Object(d.a)(Object(d.a)({},e),{},{itemsFailed:!0,itemsRequest:!1});default:return e}},selectedItemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{selectedBun:[Object(d.a)({},t.item)]});case E:return Object(d.a)(Object(d.a)({},e),{},{selectedToppings:[].concat(Object(de.a)(e.selectedToppings),[Object(d.a)({},t.item)])});case w:return Object(d.a)(Object(d.a)({},e),{},{selectedBun:[]});case S:return Object(d.a)(Object(d.a)({},e),{},{selectedToppings:[]});case R:return Object(d.a)(Object(d.a)({},e),{},{selectedToppings:Object(de.a)(e.selectedToppings).filter((function(e){return e.uuid!==t.item.uuid}))});case C:var n=e.selectedToppings[t.dragIndex],r=Object(de.a)(e.selectedToppings);return r.splice(t.dragIndex,1),r.splice(t.hoverIndex,0,n),Object(d.a)(Object(d.a)({},e),{},{selectedToppings:r});default:return e}},orderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{orderRequest:!0});case _:return Object(d.a)(Object(d.a)({},e),{},{orderFailed:!1,order:t.order,orderRequest:!1});case f:return Object(d.a)(Object(d.a)({},e),{},{orderFailed:!0,orderRequest:!1});case O:return Object(d.a)(Object(d.a)({},e),{},{order:{}});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{isOrderModalVisible:!0});case h:return Object(d.a)(Object(d.a)({},e),{},{isOrderModalVisible:!1});case v:return Object(d.a)(Object(d.a)({},e),{},{isErrModalVisible:!0});case g:return Object(d.a)(Object(d.a)({},e),{},{isErrModalVisible:!1});case y:return Object(d.a)(Object(d.a)({},e),{},{error:t.text});default:return e}},buttonReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(d.a)(Object(d.a)({},e),{},{isBtnDisabled:!0});case te:return Object(d.a)(Object(d.a)({},e),{},{isBtnDisabled:!1});default:return e}},tabReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return t.type===ne?Object(d.a)(Object(d.a)({},e),{},{currentTab:t.tab}):e},forgotPasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(d.a)(Object(d.a)({},e),{},{forgot_passwordRequest:!0});case K:return Object(d.a)(Object(d.a)({},e),{},{forgot_passwordFailed:!1,forgot_password:t.forgot_password,forgot_passwordRequest:!1});case Z:return Object(d.a)(Object(d.a)({},e),{},{forgot_passwordFailed:!0,forgot_passwordRequest:!1});default:return e}},resetPasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(d.a)(Object(d.a)({},e),{},{reset_passwordRequest:!0});case X:return Object(d.a)(Object(d.a)({},e),{},{reset_passwordFailed:!1,reset_password:t.reset_password,reset_passwordRequest:!1});case $:return Object(d.a)(Object(d.a)({},e),{},{reset_passwordFailed:!0,reset_passwordRequest:!1});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{userRequest:!0});case k:return Object(d.a)(Object(d.a)({},e),{},{userFailed:!1,data:t.user,userRequest:!1});case I:return Object(d.a)(Object(d.a)({},e),{},{userFailed:!0,userRequest:!1});case D:return Object(d.a)(Object(d.a)({},e),{},{authRequest:!0});case F:return Object(d.a)(Object(d.a)({},e),{},{authFailed:!1,data:t.user,authRequest:!1});case U:return Object(d.a)(Object(d.a)({},e),{},{authFailed:!0,authRequest:!1});case P:return Object(d.a)(Object(d.a)({},e),{},{currentUserRequest:!0});case L:return Object(d.a)(Object(d.a)({},e),{},{currentUserFailed:!1,user:t.user,currentUserRequest:!1});case A:return Object(d.a)(Object(d.a)({},e),{},{currentUserFailed:!0,currentUserRequest:!1});case M:return Object(d.a)(Object(d.a)({},e),{},{currentUserRequest:!0});case q:return Object(d.a)(Object(d.a)({},e),{},{currentUserFailed:!1,user:t.user,currentUserRequest:!1});case B:return Object(d.a)(Object(d.a)({},e),{},{currentUserFailed:!0,currentUserRequest:!1});case G:return Object(d.a)(Object(d.a)({},e),{},{deleteUserRequest:!0});case W:return Object(d.a)(Object(d.a)({},e),{},{deleteUserFailed:!1,user:{},deleteUserRequest:!1});case z:return Object(d.a)(Object(d.a)({},e),{},{deleteUserFailed:!0,deleteUserRequest:!1});case V:return Object(d.a)(Object(d.a)({},e),{},{updateTokenRequest:!0});case J:return Object(d.a)(Object(d.a)({},e),{},{updateTokenFailed:!1,token:t.token,updateTokenRequest:!1});case Q:return Object(d.a)(Object(d.a)({},e),{},{updateTokenFailed:!0,updateTokenRequest:!1});default:return e}},wsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(d.a)(Object(d.a)({},e),{},{error:null,wsConnected:!0});case ae:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload,wsConnected:!1});case ie:return Object(d.a)(Object(d.a)({},e),{},{error:null,wsConnected:!1});case se:return Object(d.a)(Object(d.a)({},e),{},{error:null,feeds:t.payload});case oe:return Object(d.a)(Object(d.a)({},e),{},{error:null,userFeeds:t.payload});default:return e}}}),ve={wsInit:re,wsSendMessage:ue,onOpen:ce,onClose:ie,onError:ae,onMessage:se},ge={wsInit:re,wsSendMessage:ue,onOpen:ce,onClose:ie,onError:ae,onMessage:oe},ye=n(63),Ne=["success"],Ee=function(e){return function(t){var n=null;return function(r){return function(c){var a=t.dispatch,i=c.type,s=c.payload,o=c.wsUrl,u=c.token,l=e.wsInit,j=e.wsSendMessage,m=e.onOpen,p=e.onClose,b=e.onError,_=e.onMessage;if(i===l&&(n=u?new WebSocket("".concat(o,"?token=").concat(u)):new WebSocket("".concat(o))),n&&(n.onopen=function(e){a({type:m,payload:e})},n.onerror=function(e){a({type:b,payload:e})},n.onmessage=function(e){var t=e.data,n=JSON.parse(t),r=(n.success,Object(ye.a)(n,Ne));a({type:_,payload:r})},n.onclose=function(e){a({type:p,payload:e})},i===j)){var f=u?Object(d.a)(Object(d.a)({},s),{},{token:u}):Object(d.a)({},s);n.send(JSON.stringify(f))}r(c)}}}},we=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c)(Object(u.a)(l.a,Ee(ve),Ee(ge))),Se=Object(u.d)(he,we),Re=(n(136),function(){return Object(o.b)()}),Ce=o.c,Te=n(10),ke=function(){return{type:v}},Ie=function(e){return{type:y,text:e}},De=n(11),Fe=n.n(De),Ue=n(23),Pe="https://norma.nomoreparties.space/api/",Le="wss://norma.nomoreparties.space/orders/all",Ae="wss://norma.nomoreparties.space/orders",Me=localStorage.getItem("refreshToken");function qe(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$?*|{}\]\\^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Be(e,t,n){var r=Object(d.a)({},n),c=r.expires;if("number"==typeof c&&c){var a=new Date;a.setTime(a.getTime()+1e3*c),c=r.expires=a}c&&c instanceof Date&&(r.expires=c.toUTCString()),t&&(t=encodeURIComponent(t));var i=e+"="+t;for(var s in r){i+="; "+s;var o=r[s];!0!==o&&(i+="="+o)}document.cookie=i}function Ge(e){var t,n=null===(t=e.accessToken)||void 0===t?void 0:t.split("Bearer ")[1],r=e.refreshToken;n&&Be("token",n,{"max-age":1200}),r&&localStorage.setItem("refreshToken",r)}var We=function(){var e=Object(Ue.a)(Fe.a.mark((function e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"ingredients"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"orders"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+qe("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({ingredients:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t,n){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,token:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t,n,r){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"auth/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,name:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),He=function(){var e=Object(Ue.a)(Fe.a.mark((function e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"auth/token"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:"".concat(localStorage.getItem("refreshToken"))})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(Ue.a)(Fe.a.mark((function e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"auth/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+qe("token")},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t,n){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"auth/login"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:t,password:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t,n,r){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"auth/user"),{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+qe("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:t,password:n,name:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(Ue.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Pe,"auth/logout"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){return{type:p}},et=function(){return function(e){e({type:j}),We().then((function(t){return t.ok?t.json():(e($e()),Promise.reject(t.status))})).then((function(t){var n;e((n=t.data,{type:m,items:n}))})).catch((function(t){e($e()),e(ke()),e(Ie("getItems ".concat(t)))}))}},tt=function(){return{type:U}},nt=function(){return{type:z}},rt=function(){return{type:A}},ct=function(){return{type:I}},at=function(){return{type:B}},it=function(){return{type:Q}},st=function(e,t,n){return function(r){r({type:T}),Qe(e,t,n).then((function(e){return e.ok?e.json():(r(ct()),Promise.reject(e.status))})).then((function(e){e.success&&(r({type:k,user:e}),Ge(e),r(ut()))})).catch((function(e){r(ct()),r(Ie("register ".concat(e))),r(ke())}))}},ot=function(e){return function(t){t({type:V}),He().then((function(e){return e.ok?e.json():(t(it()),Promise.reject(e.status))})).then((function(n){n.success&&(t({type:J,token:n}),Ge(n),e&&e())})).catch((function(e){t(it()),t(Ie("".concat(e," token \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")))}))}},ut=function e(){return function(t){t({type:P}),Ke().then((function(e){return e.ok?e.json():(t(rt()),Promise.reject(e.status))})).then((function(e){e.success&&t({type:L,user:e})})).catch((function(n){t(rt()),403===n&&t(ot((function(){return t(e())}))),t(Ie("getUser ".concat(n)))}))}},lt=function(e,t){return function(n){n({type:D}),Ze(e,t).then((function(e){return e.ok?e.json():(n(tt()),Promise.reject(e.status))})).then((function(e){e.success&&(n({type:F,user:e}),Ge(e),n(ut()))})).catch((function(e){tt(),n(ke()),n(Ie(401===e?"".concat(e," \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"):"authorize ".concat(e)))}))}},dt=function e(t,n,r){return function(c){c({type:M}),Ye(t,n,r).then((function(e){return e.ok?e.json():(c(at()),Promise.reject(e.status))})).then((function(e){e.success&&c({type:q,user:e})})).catch((function(a){403===a&&c(ot((function(){return c(e(t,n,r))}))),c(at()),c(Ie("updateUser ".concat(a)))}))}},jt=function(e){return function(t){t({type:G}),Xe(e).then((function(e){return e.ok?e.json():(t(nt()),Promise.reject(e.status))})).then((function(e){e.success&&(t({type:W,user:e}),Be("token",null,{expires:-1}))})).catch((function(e){t(nt()),t(ke()),t(Ie("deleteUser ".concat(e)))}))}},mt=function(){return{type:f}},pt=function e(t){return function(n){n({type:b}),ze(t).then((function(e){return e.ok?e.json():(n(mt()),Promise.reject(e.status))})).then((function(e){var t;n((t=e.order,{type:_,order:t})),n({type:x})})).catch((function(t){403===t&&n(ot((function(){return n(e())}))),n(mt()),n(Ie("getOrder ".concat(t))),n(ke())}))}},bt=n(4),_t=n(15),ft=n.n(_t),Ot=n(1),xt=function(){var e,t=Object(Te.h)().pathname,n=Ce((function(e){return e.userReducer})),r=n.user,c=n.currentUserRequest,a="/"===t?"primary":"secondary",i="/profile"===t?"primary":"secondary",o=(null===r||void 0===r?void 0:r.user)?{pathname:"/profile"}:{pathname:"/login"};return Object(Ot.jsx)("header",{className:ft.a.header,children:Object(Ot.jsxs)("div",{className:ft.a.container,children:[Object(Ot.jsxs)("nav",{className:ft.a.nav,children:[Object(Ot.jsxs)("div",{className:"".concat(ft.a.navLink," pl-5 pr-6"),children:[Object(Ot.jsx)(bt.BurgerIcon,{type:a}),Object(Ot.jsx)(s.c,{to:{pathname:"/"},className:"".concat(ft.a.navLink," ml-2 text text_type_main-defaul"),activeClassName:"".concat(ft.a.activeNavLink),exact:!0,children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(Ot.jsxs)("div",{className:"".concat(ft.a.navLink," pl-6 pr-5"),children:[Object(Ot.jsx)(bt.ListIcon,{type:"secondary"}),Object(Ot.jsx)(s.c,{to:{pathname:"/feed"},exact:!0,className:"".concat(ft.a.navLink," ml-2 text text_type_main-default"),activeClassName:"".concat(ft.a.activeNavLink),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(Ot.jsx)(s.b,{to:{pathname:"/"},className:ft.a.logoContainer,children:Object(Ot.jsx)(bt.Logo,{})}),Object(Ot.jsxs)("div",{className:"".concat(ft.a.profile),children:[Object(Ot.jsx)(bt.ProfileIcon,{type:i}),Object(Ot.jsx)(s.c,{to:o,className:"".concat(ft.a.navLink," text text_type_main-default ml-2"),activeClassName:"".concat(ft.a.activeNavLink),children:c?null:(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.name)?r.user.name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},ht=n(223),vt=n(125),gt=n(84),yt=n.n(gt),Nt=n(9),Et=n(224),wt=n(64),St=n.n(wt),Rt=function(e){var t=e.ingredient,n=Object(Te.h)(),c=Ce((function(e){return e.selectedItemsReducer})),a=c.selectedBun,i=c.selectedToppings,o=Object(r.useMemo)((function(){return"bun"===(null===t||void 0===t?void 0:t.type)?2*a.filter((function(e){return e._id===t._id})).length:i.filter((function(e){return e._id===t._id})).length}),[t.type,a,i,t._id]),u=Object(Et.a)({type:"ingredient",item:t,collect:function(e){return{opacity:e.isDragging()?.5:1}}}),l=Object(Nt.a)(u,2),d=l[0].opacity,j=l[1];return Object(Ot.jsxs)("li",{className:"".concat(St.a.item," mb-7"),style:{opacity:d},ref:j,children:[0!==o?Object(Ot.jsx)(bt.Counter,{count:o,size:"default"}):null,Object(Ot.jsxs)(s.b,{className:"".concat(St.a.link),to:{pathname:"/ingredients/".concat(t._id),state:{background:n}},children:[Object(Ot.jsx)("img",{src:t.image,alt:"ingredient"}),Object(Ot.jsxs)("div",{className:"".concat(St.a.price," mt-1 mb-2"),children:[Object(Ot.jsx)("p",{className:"text text_type_digits-default mr-2",children:t.price}),Object(Ot.jsx)(bt.CurrencyIcon,{type:"primary"})]}),Object(Ot.jsx)("p",{className:"text text_type_main-default",children:t.name})]},t._id)]})},Ct=n(39),Tt=n.n(Ct),kt=function(){var e=document.querySelector("#burger-ingredients"),t=document.querySelector("#bun"),n=document.querySelector("#sauce"),c=document.querySelector("#topping"),a=Re(),i=Ce((function(e){return e.ingredientsReducer})).items,s=Ce((function(e){return e.tabReducer})).currentTab,o=Object(r.useRef)(null),u=Object(r.useRef)(null),l=Object(r.useRef)(null),d=function(e){a(function(e){return{type:ne,tab:e}}(e))},j=function(e,t){var n;d(e),null===(n=t.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})},m=Object(r.useMemo)((function(){return i.filter((function(e){return"bun"===e.type}))}),[i]),p=Object(r.useMemo)((function(){return i.filter((function(e){return"sauce"===e.type}))}),[i]),b=Object(r.useMemo)((function(){return i.filter((function(e){return"main"===e.type}))}),[i]);return Object(Ot.jsxs)("section",{className:Tt.a.burgerIngredients,id:"burger-ingredients",onScroll:function(){return function(){if(t&&n&&c&&e){var r=Math.abs(t.getBoundingClientRect().top-e.getBoundingClientRect().top),a=Math.abs(n.getBoundingClientRect().top-e.getBoundingClientRect().top),i=Math.abs(c.getBoundingClientRect().top-e.getBoundingClientRect().top);d(r<a?"bun":a<i?"sauce":"topping")}}()},children:[Object(Ot.jsxs)("div",{style:{display:"flex"},children:[Object(Ot.jsx)(bt.Tab,{value:"bun",active:"bun"===s,onClick:function(){return j("bun",o)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Ot.jsx)(bt.Tab,{value:"sauce",active:"sauce"===s,onClick:function(){return j("sauce",u)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Ot.jsx)(bt.Tab,{value:"topping",active:"topping"===s,onClick:function(){return j("topping",l)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(Ot.jsxs)("div",{className:"".concat(Tt.a.container," mt-10"),children:[0!==(null===m||void 0===m?void 0:m.length)?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",id:"bun",ref:o,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Ot.jsx)("ul",{className:"".concat(Tt.a.list," mt-6 mb-10 ml-4 mr-2"),children:m.map((function(e){return Object(Ot.jsx)(Rt,{ingredient:e},e._id)}))})]}):null,0!==(null===p||void 0===p?void 0:p.length)?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",id:"sauce",ref:u,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Ot.jsx)("ul",{className:"".concat(Tt.a.list," mt-6 mb-10 ml-4 mr-2"),children:p.map((function(e){return Object(Ot.jsx)(Rt,{ingredient:e},e._id)}))})]}):null,0!==(null===b||void 0===b?void 0:b.length)?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium mb-3",id:"topping",ref:l,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(Ot.jsx)("ul",{className:"".concat(Tt.a.list," mt-6 mb-10 ml-4 mr-2"),children:b.map((function(e){return Object(Ot.jsx)(Rt,{ingredient:e},e._id)}))})]}):null]})]})},It=n(225),Dt=n(124),Ft=n(117),Ut=n.n(Ft),Pt=function(){return Object(Ot.jsx)("div",{className:Ut.a.loader,children:Object(Ot.jsx)(Dt.a,{color:"#4c4cff",height:200,width:200,visible:!0})})},Lt=n(118),At=n.n(Lt),Mt=function(e){var t=e.item,n=e.index,c=e.id,a=e.type,i=e.text,s=Re(),o=Object(r.useCallback)((function(e,t){s(function(e,t){return{type:C,dragIndex:e,hoverIndex:t}}(e,t))}),[s]),u=Object(r.useRef)(null),l=Object(It.a)({accept:"constructor",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){if(u.current){var r=e.index,c=n;if(r!==c){var a=u.current.getBoundingClientRect(),i=(a.bottom-a.top)/2,s=t.getClientOffset().y-a.top;r<c&&s<i||r>c&&s>i||(o(r,c),e.index=c)}}}}),d=Object(Nt.a)(l,2),j=d[0].handlerId,m=d[1],p=Object(Et.a)({type:"constructor",item:function(){return{id:c,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),b=Object(Nt.a)(p,2),_=b[0].isDragging?0:1;return(0,b[1])(m(u)),Object(Ot.jsx)(Ot.Fragment,{children:"bun"===(null===t||void 0===t?void 0:t.type)?Object(Ot.jsx)("li",{className:"ml-8 mb-4",children:Object(Ot.jsx)(bt.ConstructorElement,{type:a,isLocked:!0,text:i,price:t.price,thumbnail:t.image})}):Object(Ot.jsxs)("li",{className:"".concat(At.a.itemContainer," mb-4"),ref:u,style:{opacity:_},"data-handler-id":j,children:[Object(Ot.jsx)(bt.DragIcon,{type:"primary"}),Object(Ot.jsx)(bt.ConstructorElement,{handleClose:function(){s(function(e){return{type:R,item:e}}(t))},text:t.name,price:t.price,thumbnail:t.image})]})})},qt=n(226),Bt=n(25),Gt=n.n(Bt),Wt=function(){var e=Re(),t=Object(Te.g)(),n=Ce((function(e){return e.orderReducer})).orderRequest,c=Ce((function(e){return e.selectedItemsReducer})),a=c.selectedBun,i=c.selectedToppings,s=Ce((function(e){return e.userReducer})).user,o=Ce((function(e){return e.buttonReducer})).isBtnDisabled,u=function(t){t.uuid=Object(qt.a)(),"bun"===(null===t||void 0===t?void 0:t.type)?e(function(e){return{type:N,item:e}}(t)):e(function(e){return{type:E,item:e}}(t))},l=Object(It.a)({accept:"ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(e){u(e)}}),d=Object(Nt.a)(l,2),j=d[0].isHover,m=d[1],p=j?"rgb(133, 133, 173)":"transparent",b=Object(r.useMemo)((function(){return i.reduce((function(e,t){return e+t.price}),0)+a.reduce((function(e,t){return e+2*t.price}),0)}),[i,a]);Object(r.useEffect)((function(){0===b||0===(null===a||void 0===a?void 0:a.length)?e({type:ee}):e({type:te})}),[e,b,a]);var _=Object(r.useMemo)((function(){return a.concat(i).map((function(e){return e._id}))}),[a,i]);return Object(Ot.jsx)("section",{className:"".concat(Gt.a.burgerConstructor," ml-10 pl-4"),style:{borderColor:p},ref:m,children:n?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("p",{className:"".concat(Gt.a.text_loader," text text_type_main-medium text_color_inactive"),children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430."}),Object(Ot.jsx)(Pt,{})]}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsxs)("ul",{className:"".concat(Gt.a.list),children:[a&&a.map((function(e,t){return Object(Ot.jsx)(Mt,{item:e,index:t,type:"top",text:"".concat(e.name," (\u0432\u0435\u0440\u0445)"),id:e._id},e.uuid)})),Object(Ot.jsx)("div",{className:"".concat(Gt.a.middleContainer," pr-2"),children:i&&i.map((function(e,t){return function(e,t){return Object(Ot.jsx)(Mt,{item:e,index:t,id:e._id,type:"top",text:e.name},e.uuid)}(e,t)}))}),a&&a.map((function(e,t){return Object(Ot.jsx)(Mt,{item:e,index:t,type:"bottom",text:"".concat(e.name," (\u043d\u0438\u0437)"),id:e._id},e.uuid)}))]}),0!==(null===a||void 0===a?void 0:a.length)||0!==(null===i||void 0===i?void 0:i.length)?Object(Ot.jsxs)("div",{className:"".concat(Gt.a.summary," mt-10 pr-4"),children:[Object(Ot.jsxs)("div",{className:"".concat(Gt.a.price," mr-10"),children:[Object(Ot.jsx)("p",{className:"text text_type_digits-medium pr-2",children:b}),Object(Ot.jsx)(bt.CurrencyIcon,{type:"primary"})]}),Object(Ot.jsx)(bt.Button,{type:"primary",size:"large",onClick:function(){(null===s||void 0===s?void 0:s.user)?e(pt(_)):t.replace({pathname:"/login"})},disabled:o,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("div",{className:"".concat(Gt.a.burgerImg),children:Object(Ot.jsx)(bt.BurgerIcon,{type:"secondary"})}),Object(Ot.jsx)("p",{className:"".concat(Gt.a.text," text text_type_main-medium text_color_inactive"),children:"\u0414\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0435\u0433\u043e \u0438\u0437 \u043b\u0435\u0432\u043e\u0433\u043e \u043c\u0435\u043d\u044e."}),Object(Ot.jsx)("p",{className:"".concat(Gt.a.text," text text_type_main-medium text_color_inactive mt-5"),children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0443\u043b\u043a\u0438."})]})]})})},zt=function(){return Object(Ot.jsxs)("main",{className:"".concat(yt.a.main," pl-5 pr-5"),children:[Object(Ot.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Ot.jsx)("div",{className:yt.a.container,children:Object(Ot.jsxs)(ht.a,{backend:vt.a,children:[Object(Ot.jsx)(kt,{}),Object(Ot.jsx)(Wt,{})]})})]})},Vt=n(119),Jt=n.n(Vt),Qt=function(){return Object(Ot.jsx)("div",{className:"modalOverlay ".concat(Jt.a.modalOverlay)})},Ht=n(87),Kt=n.n(Ht),Zt=document.getElementById("modals"),Yt=function(e){var t=e.handleClose,n=e.children;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()},n=function(e){e.target.classList.contains("modalOverlay")&&t()};return window.addEventListener("keydown",e),window.addEventListener("mousedown",n),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousedown",n)}}),[t]),i.a.createPortal(Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(Qt,{}),Object(Ot.jsxs)("div",{className:"".concat(Kt.a.modal," pt-10 pl-10 pr-10 pb-15"),children:[Object(Ot.jsx)("div",{className:Kt.a.close,children:Object(Ot.jsx)(bt.CloseIcon,{type:"primary",onClick:t})}),n]})]}),Zt)},Xt=n(26),$t=n.n(Xt),en=function(){var e=Ce((function(e){return e.ingredientsReducer})).items,t=Object(Te.i)().id,n=Object(r.useMemo)((function(){return e.filter((function(e){return e._id===t}))[0]}),[e,t]);return Object(Ot.jsx)(Ot.Fragment,{children:n?Object(Ot.jsxs)("div",{className:"".concat($t.a.container," mt-3"),children:[Object(Ot.jsx)("h2",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(Ot.jsxs)("div",{className:"".concat($t.a.ingredient," mt-3"),children:[Object(Ot.jsx)("img",{src:n.image,className:"".concat($t.a.image," pl-5 pr-5 mt-3 mb-4"),alt:n.name}),Object(Ot.jsx)("h3",{className:"".concat($t.a.name," text text_type_main-medium mb-8"),children:n.name}),Object(Ot.jsxs)("ul",{className:"".concat($t.a.info),children:[Object(Ot.jsxs)("li",{className:"".concat($t.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(Ot.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.calories})]}),Object(Ot.jsxs)("li",{className:"".concat($t.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(Ot.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.proteins})]}),Object(Ot.jsxs)("li",{className:"".concat($t.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(Ot.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.fat})]}),Object(Ot.jsxs)("li",{className:"".concat($t.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(Ot.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.carbohydrates})]})]})]})]}):null})},tn=n.p+"static/media/vector1.212deacc.svg",nn=n.p+"static/media/vector2.108e071d.svg",rn=n.p+"static/media/vector3.9ffee6b1.svg",cn=n.p+"static/media/stroke.bd47ec5e.svg",an=n(32),sn=n.n(an),on=function(){var e=Ce((function(e){return e.orderReducer})).order;return Object(Ot.jsxs)("div",{className:"".concat(sn.a.orderDetails," pt-20 pb-15"),children:[Object(Ot.jsx)("h2",{className:"".concat(sn.a.title," text text_type_digits-large mb-8"),children:e.number}),Object(Ot.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ot.jsxs)("div",{className:"".concat(sn.a.image," mt-15 mb-15"),children:[Object(Ot.jsx)("img",{src:tn,className:"".concat(sn.a.vector1),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"}),Object(Ot.jsx)("img",{src:nn,className:"".concat(sn.a.vector2),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"}),Object(Ot.jsx)("img",{src:rn,className:"".concat(sn.a.vector3),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"}),Object(Ot.jsx)("img",{src:cn,className:"".concat(sn.a.stroke," "),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"})]}),Object(Ot.jsx)("p",{className:"text text_type_main-default mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},un=n(120),ln=n.n(un),dn=function(){var e=Ce((function(e){return e.modalReducer})).error;return Object(Ot.jsx)("div",{className:"".concat(ln.a.container," mt-20 mb-20"),children:Object(Ot.jsxs)("h2",{className:"text text_type_main-large text_color_inactive",children:["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ",e]})})},jn=["children"],mn=function(e){var t=e.children,n=Object(ye.a)(e,jn),r=Ce((function(e){return e.userReducer})).user;return Object(Ot.jsx)(Te.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){var n=e.location;return(null===r||void 0===r?void 0:r.user)?t:Object(Ot.jsx)(Te.a,{to:{pathname:"/login",state:{from:n}}})}}))},pn=n(44),bn=n.n(pn),_n=(n(112),n(40)),fn=n.n(_n),On=function(e){var t=e.ingredientArr,n=e.ingredient,c=Object(r.useMemo)((function(){return"bun"===(null===n||void 0===n?void 0:n.type)?2:t.filter((function(e){return e.id===n.id})).length}),[n,t]);return Object(Ot.jsxs)("li",{className:"".concat(fn.a.img_container," mb-4"),children:[Object(Ot.jsxs)("div",{className:"".concat(fn.a.ingredient," mb-4"),children:[Object(Ot.jsx)("div",{className:"".concat(fn.a.img_box," ml-1 mt-1 mr-4"),children:Object(Ot.jsx)("img",{src:n.img,className:"".concat(fn.a.img),alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"})}),Object(Ot.jsx)("h2",{className:"text text_type_main-default",children:n.name})]}),Object(Ot.jsxs)("div",{className:"".concat(fn.a.price),children:[Object(Ot.jsxs)("p",{className:"text text_type_digits-default pr-2",children:[c," x "]}),Object(Ot.jsx)("p",{className:"text text_type_digits-default pr-2",children:n.price}),Object(Ot.jsx)(bt.CurrencyIcon,{type:"primary"})]})]})},xn=n(41),hn=n.n(xn),vn=function(){var e=Object(Te.h)(),t=Object(Te.h)().pathname,n=Ce((function(e){return e.wsReducer})),c=n.feeds,a=n.userFeeds,i=Ce((function(e){return e.ingredientsReducer})).items,s="/profile/orders"===t?a:c,o=Object(Te.i)().id;Object(r.useEffect)((function(){e.state=void 0}),[e]);var u=Object(r.useMemo)((function(){return null===s||void 0===s?void 0:s.orders.filter((function(e){return e._id===o}))[0]}),[o,s.orders]),l=Object(r.useMemo)((function(){return bn()(null===u||void 0===u?void 0:u.createdAt)}),[null===u||void 0===u?void 0:u.createdAt]),d=Object(r.useMemo)((function(){var e=null===l||void 0===l?void 0:l.format("Z").slice(0,3);return"".concat(null===l||void 0===l?void 0:l.fromNow(),", ").concat(null===l||void 0===l?void 0:l.format("h:mm")," i-GMT").concat(null===e||void 0===e?void 0:e.slice(0,1)).concat(+(null===e||void 0===e?void 0:e.slice(1)))}),[l]),j=Object(r.useMemo)((function(){var e=[],t=[];return i.map((function(n){for(var r=0;r<(null===u||void 0===u?void 0:u.ingredients.length);r++)n._id===(null===u||void 0===u?void 0:u.ingredients[r])&&"bun"===n.type?e.push(n._id):n._id===(null===u||void 0===u?void 0:u.ingredients[r])&&"bun"!==n.type&&t.push(n._id);return{buns:e,notBuns:t}})),[].concat(Object(de.a)(Array.from(new Set(e))),t)}),[u,i]),m=Object(r.useMemo)((function(){var e=[];return i.map((function(t){for(var n=0;n<j.length;n++)t._id===j[n]&&"bun"===t.type?e.push(2*t.price):t._id===j[n]&&e.push(t.price);return e})),e.reduce((function(e,t){return e+t}),0)}),[i,j]),p=Object(r.useMemo)((function(){var e=[];return i.map((function(t){for(var n=0;n<(null===u||void 0===u?void 0:u.ingredients.length);n++)t._id===(null===u||void 0===u?void 0:u.ingredients[n])&&e.push({img:t.image,name:t.name,price:t.price,type:t.type,id:t._id});return e})),e}),[u,i]),b=Object(r.useMemo)((function(){var e=[];return p.filter((function(t){return e.some((function(e){return e.id===t.id}))||e.push(t),e})),e}),[p]),_="created"===(null===u||void 0===u?void 0:u.status)?"\u0421\u043e\u0437\u0434\u0430\u043d":"pending"===(null===u||void 0===u?void 0:u.status)?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"done"===(null===u||void 0===u?void 0:u.status)?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"",f="done"===(null===u||void 0===u?void 0:u.status)?{color:"#00CCCC"}:{color:"#F2F2F3"};return Object(Ot.jsx)(Ot.Fragment,{children:void 0!==u?Object(Ot.jsxs)("div",{className:"".concat(hn.a.container),children:[Object(Ot.jsxs)("p",{className:"".concat(hn.a.number," text text_type_digits-default mt-5 mb-10"),children:["#0",u.number]}),Object(Ot.jsx)("h2",{className:"text text_type_main-medium mb-2",children:u.name}),Object(Ot.jsx)("p",{className:"text text_type_main-default mb-15",style:f,children:_}),Object(Ot.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(Ot.jsx)("ul",{className:"".concat(hn.a.images),children:b&&b.map((function(e,t){return Object(Ot.jsx)(On,{ingredient:e,ingredientArr:p},t)}))}),Object(Ot.jsxs)("div",{className:"".concat(hn.a.info),children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:d}),Object(Ot.jsxs)("div",{className:"".concat(hn.a.price),children:[Object(Ot.jsx)("p",{className:"text text_type_digits-default pr-2",children:m}),Object(Ot.jsx)(bt.CurrencyIcon,{type:"primary"})]})]})]}):Object(Ot.jsx)(Pt,{})})},gn=n(24),yn=n(42),Nn=n.n(yn),En=function(){var e,t=Re(),n=Object(Te.h)(),c=Ce((function(e){return e.userReducer})).user,a=Object(r.useState)({email:"",password:""}),i=Object(Nt.a)(a,2),o=i[0],u=i[1],l=function(e){u(Object(d.a)(Object(d.a)({},o),{},Object(gn.a)({},e.target.name,e.target.value)))};return localStorage.getItem("refreshToken")&&(null===c||void 0===c?void 0:c.user)?Object(Ot.jsx)(Te.a,{to:(null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.from)||"/"}):Object(Ot.jsx)("div",{className:Nn.a.wrapper,children:Object(Ot.jsxs)("form",{className:"".concat(Nn.a.form),onSubmit:function(e){e.preventDefault(),t(lt(o.email,o.password))},children:[Object(Ot.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(Ot.jsx)(bt.EmailInput,{value:o.email,name:"email",onChange:l}),Object(Ot.jsx)(bt.PasswordInput,{value:o.password,name:"password",onChange:l}),Object(Ot.jsx)("div",{className:"".concat(Nn.a.container),children:Object(Ot.jsx)(bt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(Ot.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(Ot.jsx)(s.b,{to:{pathname:"/register"},className:"".concat(Nn.a.link," ml-2"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ot.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(Ot.jsx)(s.b,{to:{pathname:"/forgot-password"},className:"".concat(Nn.a.link," ml-2"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})},wn=n(50),Sn=n.n(wn),Rn=function(){var e=Re(),t=Ce((function(e){return e.userReducer})).user,n=Object(r.useState)({name:"",email:"",password:""}),c=Object(Nt.a)(n,2),a=c[0],i=c[1],o=function(e){i(Object(d.a)(Object(d.a)({},a),{},Object(gn.a)({},e.target.name,e.target.value)))},u=Object(r.useCallback)((function(t){t.preventDefault(),e(st(a.email,a.password,a.name))}),[e,a]);return(null===t||void 0===t?void 0:t.user)?Object(Ot.jsx)(Te.a,{to:{pathname:"/"}}):Object(Ot.jsx)("div",{className:Sn.a.wrapper,children:Object(Ot.jsxs)("form",{className:"".concat(Sn.a.form),onSubmit:u,children:[Object(Ot.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ot.jsx)(bt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:a.name,name:"name",onChange:o,error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(Ot.jsx)(bt.EmailInput,{value:a.email,name:"email",onChange:o}),Object(Ot.jsx)(bt.PasswordInput,{value:a.password,name:"password",onChange:o}),Object(Ot.jsx)("div",{className:"".concat(Sn.a.container),children:Object(Ot.jsx)(bt.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(Ot.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(Ot.jsx)(s.b,{to:{pathname:"/login"},className:"".concat(Sn.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},Cn=function(){return{type:Z}},Tn=function(){return{type:$}},kn=function(e){return function(t){t({type:H}),Ve(e).then((function(e){return e.ok?e.json():(t(Cn()),Promise.reject(e.status))})).then((function(e){e.success&&t({type:K,forgot_password:e})})).catch((function(e){t(Cn()),t(Ie("forgotPassword ".concat(e))),t(ke())}))}},In=function(e,t){return function(n){n({type:Y}),Je(e,t).then((function(e){return e.ok?e.json():(n(Tn()),Promise.reject(e.status))})).then((function(e){e.success&&n({type:X,reset_password:e})})).catch((function(e){n(Tn()),n(Ie("resetPassword ".concat(e))),n(ke())}))}},Dn=n(51),Fn=n.n(Dn),Un=function(){var e=Re(),t=Ce((function(e){return e.forgotPasswordReducer})).forgot_password,n=Ce((function(e){return e.userReducer})).user,c=Object(r.useState)(""),a=Object(Nt.a)(c,2),i=a[0],o=a[1],u=Object(r.useCallback)((function(t){t.preventDefault(),e(kn(i))}),[e,i]);return(null===n||void 0===n?void 0:n.user)?Object(Ot.jsx)(Te.a,{to:{pathname:"/"}}):(null===t||void 0===t?void 0:t.success)?Object(Ot.jsx)(Te.a,{to:{pathname:"/reset-password"}}):Object(Ot.jsx)("div",{className:Fn.a.wrapper,children:Object(Ot.jsxs)("form",{className:"".concat(Fn.a.form),onSubmit:u,children:[Object(Ot.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ot.jsx)(bt.EmailInput,{onChange:function(e){o(e.target.value)},value:i,name:"email"}),Object(Ot.jsx)("div",{className:"".concat(Fn.a.container),children:Object(Ot.jsx)(bt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})}),Object(Ot.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(Ot.jsx)(s.b,{to:{pathname:"/login"},className:"".concat(Fn.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},Pn=n(52),Ln=n.n(Pn),An=function(){var e=Re(),t=Ce((function(e){return e.resetPasswordReducer})).reset_password,n=Ce((function(e){return e.forgotPasswordReducer})).forgot_password,c=Ce((function(e){return e.userReducer})).user,a=Object(r.useState)({code:"",password:""}),i=Object(Nt.a)(a,2),o=i[0],u=i[1],l=function(e){u(Object(d.a)(Object(d.a)({},o),{},Object(gn.a)({},e.target.name,e.target.value)))},j=Object(r.useCallback)((function(t){t.preventDefault(),e(In(o.password,o.code))}),[e,o]);return(null===t||void 0===t?void 0:t.success)?Object(Ot.jsx)(Te.a,{to:{pathname:"/login"}}):(null===c||void 0===c?void 0:c.user)||void 0===(null===n||void 0===n?void 0:n.success)?Object(Ot.jsx)(Te.a,{to:{pathname:"/"}}):Object(Ot.jsx)("div",{className:Ln.a.wrapper,children:Object(Ot.jsxs)("form",{className:"".concat(Ln.a.form),onSubmit:j,children:[Object(Ot.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ot.jsx)(bt.PasswordInput,{value:o.password,name:"password",onChange:l}),Object(Ot.jsx)(bt.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:l,value:o.code,name:"code",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(Ot.jsx)("div",{className:"".concat(Ln.a.container),children:Object(Ot.jsx)(bt.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(Ot.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(Ot.jsx)(s.b,{to:{pathname:"/login"},className:"".concat(Ln.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},Mn=n(88),qn=n.n(Mn),Bn=function(){var e=Re(),t=Ce((function(e){return e.userReducer})).user,n=c.a.useRef(null),a=c.a.useRef(null),i=Object(r.useState)({name:"",email:"",password:""}),s=Object(Nt.a)(i,2),o=s[0],u=s[1],l=Object(r.useState)(!1),j=Object(Nt.a)(l,2),m=j[0],p=j[1],b=Object(r.useState)("EditIcon"),_=Object(Nt.a)(b,2),f=_[0],O=_[1],x=Object(r.useState)("EditIcon"),h=Object(Nt.a)(x,2),v=h[0],g=h[1],y=Object(r.useState)(!1),N=Object(Nt.a)(y,2),E=N[0],w=N[1],S=Object(r.useState)(!1),R=Object(Nt.a)(S,2),C=R[0],T=R[1],k=Object(r.useState)(!1),I=Object(Nt.a)(k,2),D=I[0],F=I[1],U=Object(r.useState)(!1),P=Object(Nt.a)(U,2),L=P[0],A=P[1];Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.user)&&u({name:t.user.name,email:t.user.email,password:""})}),[null===t||void 0===t?void 0:t.user]);var M=function(e){"name"===e.target.name&&e.target.value.length<1?F(!0):F(!1),"email"===e.target.name&&e.target.value.length<1?A(!0):A(!1),u(Object(d.a)(Object(d.a)({},o),{},Object(gn.a)({},e.target.name,e.target.value))),p(!0)},q=Object(r.useCallback)((function(t){t.preventDefault();o.name.length<1?F(!0):o.email.length<1||!1===/^([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$)$/.test(o.email)?A(!0):e(dt(o.email,o.password,o.name)),p(!1)}),[e,o]),B=function(e){"name"===e.target.name?(w(!0),O("CloseIcon")):"email"===e.target.name&&(T(!0),g("CloseIcon"))},G=function(e){"name"===e.target.name?(w(!1),O("EditIcon")):"email"===e.target.name&&(T(!1),g("EditIcon"))};return Object(Ot.jsxs)("form",{onSubmit:q,className:"".concat(qn.a.form),children:[Object(Ot.jsx)(bt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:o.name,name:"name",onChange:M,icon:f,error:D,errorText:'\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.',onFocus:B,onBlur:G,ref:n,onIconClick:function(){w(!0),F(!1),setTimeout((function(){var e;null===(e=n.current)||void 0===e||e.focus()}),0)},disabled:!E}),Object(Ot.jsx)(bt.Input,{type:"email",placeholder:"Email",value:o.email,name:"email",onChange:M,icon:v,error:L,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 Email.",onFocus:B,onBlur:G,ref:a,onIconClick:function(){T(!0),A(!1),setTimeout((function(){var e;null===(e=a.current)||void 0===e||e.focus()}),0)},disabled:!C}),Object(Ot.jsx)(bt.PasswordInput,{value:o.password,name:"password",onChange:M}),m&&Object(Ot.jsxs)("div",{className:qn.a.buttonContainer,children:[Object(Ot.jsx)(bt.Button,{type:"secondary",size:"medium",onClick:function(){F(!1),A(!1),(null===t||void 0===t?void 0:t.user)&&u({name:t.user.name,email:t.user.email,password:""}),p(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(Ot.jsx)(bt.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},Gn=n(27),Wn=n.n(Gn),zn=function(e){var t=e.feed,n=Object(Te.h)(),c=Object(Te.h)().pathname,a=Object(Te.j)().path,i=Ce((function(e){return e.ingredientsReducer})).items,o=bn()(t.createdAt),u=Object(r.useMemo)((function(){var e=o.format("Z").slice(0,3);return"".concat(o.fromNow(),", ").concat(o.format("h:mm")," i-GMT").concat(e.slice(0,1)).concat(+e.slice(1))}),[o]),l=Object(r.useMemo)((function(){var e=[],n=[];return i.map((function(r){for(var c=0;c<t.ingredients.length;c++)r._id===t.ingredients[c]&&"bun"===r.type?e.push(r._id):r._id===t.ingredients[c]&&"bun"!==r.type&&n.push(r._id);return{buns:e,notBuns:n}})),[].concat(Object(de.a)(Array.from(new Set(e))),n)}),[t.ingredients,i]),d=Object(r.useMemo)((function(){var e=[];return i.map((function(t){for(var n=0;n<l.length;n++)t._id===l[n]&&"bun"===t.type?e.push(2*t.price):t._id===l[n]&&e.push(t.price);return e})),e.reduce((function(e,t){return e+t}),0)}),[l,i]),j=Object(r.useMemo)((function(){var e=[];return i.map((function(n){for(var r=0;r<t.ingredients.length;r++)n._id===t.ingredients[r]&&e.push(n.image);return e})),e}),[t,i]),m="created"===t.status?"\u0421\u043e\u0437\u0434\u0430\u043d":"pending"===t.status?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"done"===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"",p="done"===t.status?{color:"#00CCCC"}:{color:"#F2F2F3"};return Object(Ot.jsx)("li",{className:"".concat(Wn.a.item," p-6 mb-4"),children:Object(Ot.jsxs)(s.b,{className:"".concat(Wn.a.link),to:{pathname:"".concat(a,"/").concat(t._id),state:{background:n}},children:[Object(Ot.jsxs)("div",{className:"".concat(Wn.a.info),children:[Object(Ot.jsxs)("p",{className:"text text_type_digits-default",children:["#0",t.number]}),Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:u})]}),Object(Ot.jsx)("h2",{className:"text text_type_main-medium mt-6",children:t.name}),"/profile/orders"===c?Object(Ot.jsx)("p",{className:"text text_type_main-default mt-2",style:p,children:m}):null,Object(Ot.jsxs)("div",{className:"".concat(Wn.a.container," mt-6"),children:[Object(Ot.jsxs)("div",{className:"".concat(Wn.a.images),children:[j&&j.map((function(e,t){return t<6&&Object(Ot.jsx)("div",{className:"".concat(Wn.a.img_box),children:Object(Ot.jsx)("img",{src:e,className:"".concat(Wn.a.img),alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"})},t)})),j.length>6&&Object(Ot.jsxs)("p",{className:"".concat(Wn.a.counter," text text_type_main-default"),children:["+",j.length-6]})]}),Object(Ot.jsxs)("div",{className:"".concat(Wn.a.price),children:[Object(Ot.jsx)("p",{className:"text text_type_digits-default pr-2",children:d}),Object(Ot.jsx)(bt.CurrencyIcon,{type:"primary"})]})]})]})})},Vn=n(89),Jn=n.n(Vn),Qn=function(){var e=Re(),t=Ce((function(e){return e.wsReducer})).userFeeds;return Object(r.useEffect)((function(){var t=qe("token");return!t&&e(ot()),void 0!==t&&e({type:re,wsUrl:Ae,token:t}),function(){e({type:ie})}}),[e]),Object(Ot.jsx)("section",{className:"".concat(Jn.a.main," ml-15"),children:(null===t||void 0===t?void 0:t.orders)?Object(Ot.jsx)("ul",{className:"".concat(Jn.a.container," mt-5"),children:null===t||void 0===t?void 0:t.orders.map((function(e,t){return Object(Ot.jsx)(zn,{feed:e},t)}))}):Object(Ot.jsx)(Pt,{})})},Hn=n(28),Kn=n.n(Hn),Zn=function(){var e=Re(),t=Object(Te.g)(),n=Object(Te.j)().path,r=Object(Te.h)().pathname;return Object(Ot.jsxs)("div",{className:Kn.a.wrapper,children:[Object(Ot.jsxs)("nav",{children:[Object(Ot.jsxs)("ul",{className:"".concat(Kn.a.list," mb-4"),children:[Object(Ot.jsx)("li",{className:"mb-9",children:Object(Ot.jsx)(s.c,{to:{pathname:"/profile"},className:"".concat(Kn.a.item," text_type_main-medium text_color_inactive"),activeClassName:"".concat(Kn.a.activeItem),exact:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Ot.jsx)("li",{className:"mb-9",children:Object(Ot.jsx)(s.c,{to:{pathname:"/profile/orders"},className:"".concat(Kn.a.item," text_type_main-medium text_color_inactive"),activeClassName:"".concat(Kn.a.activeItem),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(Ot.jsx)("li",{children:Object(Ot.jsx)("button",{onClick:function(){e(jt(Me)),localStorage.removeItem("refreshToken"),t.push("/login")},className:"".concat(Kn.a.exit," text_type_main-medium text_color_inactive"),children:"\u0412\u044b\u0445\u043e\u0434"})})]}),"/profile/orders"===r?Object(Ot.jsxs)("p",{className:"".concat(Kn.a.description," text text_type_main-default text_color_inactive ml-5"),children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 ",Object(Ot.jsx)("br",{})," \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"]}):Object(Ot.jsxs)("p",{className:"".concat(Kn.a.description," text text_type_main-default text_color_inactive ml-5"),children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 ",Object(Ot.jsx)("br",{})," \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]}),Object(Ot.jsxs)(Te.d,{children:[Object(Ot.jsx)(Te.b,{exact:!0,path:n,children:Object(Ot.jsx)(Bn,{})}),Object(Ot.jsx)(Te.b,{path:"".concat(n,"/orders"),children:Object(Ot.jsx)(Qn,{})})]})]})},Yn=n(121),Xn=n.n(Yn),$n=function(){return Object(Ot.jsx)("div",{className:Xn.a.container,children:Object(Ot.jsx)(en,{})})},er=n(53),tr=n.n(er),nr=function(){return Object(Ot.jsx)("div",{className:tr.a.wrapper,children:Object(Ot.jsx)("div",{className:tr.a.container,children:Object(Ot.jsxs)("div",{className:tr.a.content,children:[Object(Ot.jsx)("h1",{className:"text text_type_main-large text_color_inactive pb-20",children:"\u0423\u043f\u0441! \u041e\u0448\u0438\u0431\u043a\u0430 404"}),Object(Ot.jsx)("p",{className:"text text_type_main-medium text_color_inactive",children:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u0432\u0430\u043c\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \ud83d\ude43"}),Object(Ot.jsx)("br",{}),Object(Ot.jsx)("br",{}),Object(Ot.jsxs)("p",{className:"text text_type_main-medium text_color_inactive",children:["\u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430"," ",Object(Ot.jsx)(s.b,{to:{pathname:"/"},className:"".concat(tr.a.link," text text_type_main-medium"),children:"\u0434\u043e\u043c\u0430\u0448\u043d\u044e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})]})})})},rr=n(90),cr=n.n(rr),ar=function(){var e=Ce((function(e){return e.wsReducer})).feeds;return Object(Ot.jsx)("section",{className:cr.a.main,children:Object(Ot.jsx)("ul",{className:"".concat(cr.a.container," mt-5"),children:e.orders.map((function(e,t){return Object(Ot.jsx)(zn,{feed:e},t)}))})})},ir=n(21),sr=n.n(ir),or=function(){var e=Ce((function(e){return e.wsReducer})).feeds,t=Object(r.useMemo)((function(){return null===e||void 0===e?void 0:e.orders.filter((function(e){return"done"===e.status})).map((function(e){return e.number}))}),[e]),n=Object(r.useMemo)((function(){return null===e||void 0===e?void 0:e.orders.filter((function(e){return"created"===e.status})).map((function(e){return e.number}))}),[e]);return Object(Ot.jsxs)("section",{className:"".concat(sr.a.main," mt-5"),children:[Object(Ot.jsxs)("div",{className:"".concat(sr.a.order_container," mb-15"),children:[Object(Ot.jsxs)("div",{className:"".concat(sr.a.done),children:[Object(Ot.jsx)("p",{className:"text text_type_main-medium mb-5",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(Ot.jsx)("div",{className:"".concat(sr.a.done_orders),children:t.map((function(e,t){return Object(Ot.jsx)("p",{className:"".concat(sr.a.done_number," text text_type_digits-default mb-2 mr-5"),children:e},t)}))})]}),Object(Ot.jsxs)("div",{className:"".concat(sr.a.created),children:[Object(Ot.jsx)("p",{className:"text text_type_main-medium  mb-5",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(Ot.jsx)("div",{className:"".concat(sr.a.created_orders),children:n&&n.map((function(e,t){return Object(Ot.jsx)("p",{className:"".concat(sr.a.created_number," text text_type_digits-default mb-2 mr-5"),children:e},t)}))})]})]}),Object(Ot.jsxs)("div",{className:"".concat(sr.a.total_container),children:[Object(Ot.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(Ot.jsx)("p",{className:"".concat(sr.a.num_large," text text_type_digits-large mb-15"),children:e.total}),Object(Ot.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(Ot.jsx)("p",{className:"".concat(sr.a.num_large," text text_type_digits-large"),children:e.totalToday})]})]})},ur=n(91),lr=n.n(ur),dr=function(){var e=Re(),t=Ce((function(e){return e.wsReducer})).feeds;return Object(r.useEffect)((function(){return e({type:re,wsUrl:Le}),function(){e({type:ie})}}),[e]),Object(Ot.jsx)(Ot.Fragment,{children:0!==(null===t||void 0===t?void 0:t.orders.length)?Object(Ot.jsxs)("section",{className:"".concat(lr.a.main," pl-5 pr-5"),children:[Object(Ot.jsx)("h1",{className:"text text_type_main-large mt-10",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ot.jsxs)("div",{className:lr.a.container,children:[Object(Ot.jsx)(ar,{}),Object(Ot.jsx)(or,{})]})]}):Object(Ot.jsx)(Pt,{})})},jr=n(122),mr=n.n(jr),pr=function(){var e=Re(),t=!!Object(Te.j)("/profile");return Object(r.useEffect)((function(){var n=qe("token");return!n&&e(ot()),e(t?{type:re,wsUrl:Ae,token:n}:{type:re,wsUrl:Le}),function(){e({type:ie})}}),[e,t]),Object(Ot.jsx)("div",{className:mr.a.container,children:Object(Ot.jsx)(vn,{})})},br=n(123),_r=n.n(br),fr=function(){var e=Re(),t=Object(Te.h)(),n=Object(Te.g)(),c=Ce((function(e){return e.ingredientsReducer})).items,a=Ce((function(e){return e.userReducer})).user,i=Ce((function(e){return e.modalReducer})),s=i.isOrderModalVisible,o=i.isErrModalVisible,u=t.state&&t.state.background;Object(r.useEffect)((function(){e(et()),e(ut())}),[e]);var l=function(){n.goBack()};return Object(Ot.jsx)(Ot.Fragment,{children:0!==c.length?Object(Ot.jsxs)("div",{className:_r.a.app,children:[Object(Ot.jsx)(xt,{}),Object(Ot.jsxs)(Te.d,{location:u||t,children:[Object(Ot.jsx)(Te.b,{path:"/",exact:!0,children:Object(Ot.jsx)(zt,{})}),Object(Ot.jsx)(Te.b,{path:"/feed",exact:!0,children:Object(Ot.jsx)(dr,{})}),Object(Ot.jsx)(Te.b,{path:"/login",children:Object(Ot.jsx)(En,{})}),Object(Ot.jsx)(Te.b,{path:"/register",children:Object(Ot.jsx)(Rn,{})}),Object(Ot.jsx)(Te.b,{path:"/forgot-password",children:Object(Ot.jsx)(Un,{})}),Object(Ot.jsx)(Te.b,{path:"/reset-password",children:Object(Ot.jsx)(An,{})}),Object(Ot.jsx)(Te.b,{path:"/ingredients/:id",children:Object(Ot.jsx)($n,{})}),Object(Ot.jsx)(Te.b,{path:"/feed/:id",children:Object(Ot.jsx)(pr,{})}),void 0===(null===a||void 0===a?void 0:a.user)?Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(mn,{path:"/profile/orders/:id",children:Object(Ot.jsx)(pr,{})}),void 0===(null===a||void 0===a?void 0:a.user)?Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(mn,{path:"/profile",children:Object(Ot.jsx)(Zn,{})}),Object(Ot.jsx)(Te.b,{children:Object(Ot.jsx)(nr,{})})]}),u&&Object(Ot.jsx)(Te.b,{path:"/feed/:id",render:function(e){return Object(Ot.jsx)(Yt,Object(d.a)(Object(d.a)({handleClose:l},e),{},{children:Object(Ot.jsx)(vn,{})}))}}),u&&Object(Ot.jsx)(Te.b,{path:"/profile/orders/:id",render:function(e){return Object(Ot.jsx)(Yt,Object(d.a)(Object(d.a)({handleClose:l},e),{},{children:Object(Ot.jsx)(vn,{})}))}}),u&&Object(Ot.jsx)(Te.b,{path:"/ingredients/:id",children:Object(Ot.jsx)(Yt,{handleClose:function(){n.goBack()},children:Object(Ot.jsx)(en,{})})}),s&&Object(Ot.jsx)(Yt,{handleClose:function(){e({type:h}),e({type:O}),e({type:w}),e({type:S})},children:Object(Ot.jsx)(on,{})}),o&&Object(Ot.jsx)(Yt,{handleClose:function(){e({type:g})},children:Object(Ot.jsx)(dn,{})})]}):Object(Ot.jsx)(Pt,{})})},Or=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(Ot.jsx)(c.a.StrictMode,{children:Object(Ot.jsx)(o.a,{store:Se,children:Object(Ot.jsx)(s.a,{basename:"/REACT-BURGER",children:Object(Ot.jsx)(fr,{})})})}),document.getElementById("root")),Or()},25:function(e,t,n){e.exports={burgerConstructor:"burger-constructor_burgerConstructor__1lPyN",text:"burger-constructor_text__3CIux",burgerImg:"burger-constructor_burgerImg__1rFGW",list:"burger-constructor_list__2JohF",middleContainer:"burger-constructor_middleContainer__2zFY8",summary:"burger-constructor_summary__KJCVi",price:"burger-constructor_price__1gqni",text_loader:"burger-constructor_text_loader__3dOvN"}},26:function(e,t,n){e.exports={container:"ingredient-details_container__1rRjF",ingredient:"ingredient-details_ingredient__2fwBi",image:"ingredient-details_image__3S2tG",name:"ingredient-details_name__2uAj3",info:"ingredient-details_info__227R4",item:"ingredient-details_item__12Gl3"}},27:function(e,t,n){e.exports={link:"feed_link__1DcMg",item:"feed_item__1Y2TM",info:"feed_info__2kcro",container:"feed_container__1v9_4",price:"feed_price__3iJeS",images:"feed_images__qwb1Y",img_box:"feed_img_box__3scTh",img:"feed_img__1uwyX",counter:"feed_counter__2lOHn"}},28:function(e,t,n){e.exports={wrapper:"profile_wrapper__iA0sE",list:"profile_list__YhgTr",item:"profile_item__1sbFV",exit:"profile_exit__3bA6E",activeItem:"profile_activeItem__dnhvu",description:"profile_description__3aV5d"}},32:function(e,t,n){e.exports={orderDetails:"order-details_orderDetails__3Pwkv",title:"order-details_title__20kNq",image:"order-details_image__1Cylb",stroke:"order-details_stroke__1rUKD",vector1:"order-details_vector1__2AB7q",rotation:"order-details_rotation__3pHAK",vector2:"order-details_vector2__100Uf",vector3:"order-details_vector3__3Ilup"}},39:function(e,t,n){e.exports={burgerIngredients:"burger-ingredients_burgerIngredients__1WB_z",container:"burger-ingredients_container__2ye6O",list:"burger-ingredients_list__KSvaX"}},40:function(e,t,n){e.exports={ingredient:"ingredient_ingredient__2Be_M",img:"ingredient_img__26pxv",img_container:"ingredient_img_container__3o-6y",img_box:"ingredient_img_box__3Rahu",price:"ingredient_price__3NrCy"}},41:function(e,t,n){e.exports={container:"order_container__2nyrM",number:"order_number__TCcKb",images:"order_images__MXMDb",info:"order_info__DQnQy",column_container:"order_column_container__3Xm55",price:"order_price__xFfmC"}},42:function(e,t,n){e.exports={wrapper:"login_wrapper__8q2Ht",form:"login_form__2xae5",container:"login_container__3rG5v",link:"login_link__3AIyt"}},50:function(e,t,n){e.exports={wrapper:"register_wrapper__2-A_t",form:"register_form__2YCuj",container:"register_container__2a4OK",link:"register_link__fNuhD"}},51:function(e,t,n){e.exports={wrapper:"forgot-password_wrapper__3xdV4",form:"forgot-password_form__3VtqI",container:"forgot-password_container__2rpMi",link:"forgot-password_link__2fMrh"}},52:function(e,t,n){e.exports={wrapper:"reset-password_wrapper__307D8",form:"reset-password_form__2KOMb",container:"reset-password_container__1JFec",link:"reset-password_link__RxRAP"}},53:function(e,t,n){e.exports={wrapper:"err404_wrapper__3CYC9",container:"err404_container__3qL_l",content:"err404_content__22lef",link:"err404_link__ICQnu"}},64:function(e,t,n){e.exports={link:"ingredient_link__37zW_",item:"ingredient_item__MWlnl",price:"ingredient_price__12lL-"}},84:function(e,t,n){e.exports={main:"main_main__1VeOx",container:"main_container__2zaAZ"}},87:function(e,t,n){e.exports={modal:"modal_modal__QjxD8",close:"modal_close__2HRwr"}},88:function(e,t,n){e.exports={form:"user-form_form__34ymu",buttonContainer:"user-form_buttonContainer__2qLd6"}},89:function(e,t,n){e.exports={main:"order-history_main__SuiVC",container:"order-history_container__D8x3S"}},90:function(e,t,n){e.exports={main:"order-feed_main__fGaRA",container:"order-feed_container__208JQ"}},91:function(e,t,n){e.exports={main:"feeds_main__3FN-x",container:"feeds_container__2Ea-3"}}},[[217,1,2]]]);
//# sourceMappingURL=main.0e19d788.chunk.js.map