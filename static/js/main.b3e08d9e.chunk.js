(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{105:function(e,t,n){e.exports={itemContainer:"ingredient_itemContainer__22Aka"}},106:function(e,t,n){e.exports={modalOverlay:"modal-overlay_modalOverlay__2DmsG"}},107:function(e,t,n){e.exports={container:"err_container__G_leO"}},108:function(e,t,n){e.exports={container:"ingredient_container__3MqLf"}},109:function(e,t,n){e.exports={app:"app_app__jl1xF"}},123:function(e,t,n){},15:function(e,t,n){e.exports={header:"app-header_header__Vw8Ue",container:"app-header_container__3WK9m",logoContainer:"app-header_logoContainer__2a6c6",nav:"app-header_nav__qxaLC",navLink:"app-header_navLink__VapAo",activeNavLink:"app-header_activeNavLink__3wZk3",profile:"app-header_profile__HrcT9"}},203:function(e,t,n){"use strict";n.r(t);var c,r,a,i,s,o,l,u,d,_=n(0),j=n.n(_),O=n(35),E=n.n(O),m=n(7),b=n(4),p=n(27),S=n(102),f=n(2);!function(e){e.GET_ITEMS_REQUEST="GET_ITEMS_REQUEST",e.GET_ITEMS_SUCCESS="GET_ITEMS_SUCCESS",e.GET_ITEMS_FAILED="GET_ITEMS_FAILED"}(c||(c={})),function(e){e.GET_ORDER_REQUEST="GET_ORDER_REQUEST",e.GET_ORDER_SUCCESS="GET_ORDER_SUCCESS",e.GET_ORDER_FAILED="GET_ORDER_FAILED",e.DELETE_CURRENT_ORDER="DELETE_CURRENT_ORDER"}(r||(r={})),(i=a||(a={})).OPEN_ORDER_MODAL="OPEN_ORDER_MODAL",i.CLOSE_ORDER_MODAL="CLOSE_ORDER_MODAL",i.OPEN_ERR_MODAL="OPEN_ERR_MODAL",i.CLOSE_ERR_MODAL="CLOSE_ERR_MODAL",i.SET_ERR="SET_ERR",function(e){e.ADD_SELECTED_BUN="ADD_SELECTED_BUN",e.ADD_SELECTED_TOPPING="ADD_SELECTED_TOPPING",e.DELETE_SELECTED_BUNS="DELETE_SELECTED_BUNS",e.DELETE_SELECTED_TOPPINGS="DELETE_SELECTED_TOPPINGS",e.DELETE_SELECTED_TOPPING="DELETE_SELECTED_TOPPING",e.SORT_TOPPING="SORT_TOPPING"}(s||(s={})),function(e){e.SET_USER_REQUEST="SET_USER_REQUEST",e.SET_USER_SUCCESS="SET_USER_SUCCESS",e.SET_USER_FAILED="SET_USER_FAILED",e.AUTHORIZE_REQUEST="AUTHORIZE_REQUEST",e.AUTHORIZE_SUCCESS="AUTHORIZE_SUCCESS",e.AUTHORIZE_FAILED="AUTHORIZE_FAILED",e.GET_USER_REQUEST="GET_USER_REQUEST",e.GET_USER_SUCCESS="GET_USER_SUCCESS",e.GET_USER_FAILED="GET_USER_FAILED",e.UPDATE_USER_REQUEST="UPDATE_USER_REQUEST",e.UPDATE_USER_SUCCESS="UPDATE_USER_SUCCESS",e.UPDATE_USER_FAILED="UPDATE_USER_FAILED",e.DELETE_USER_REQUEST="DELETE_USER_REQUEST",e.DELETE_USER_SUCCESS="DELETE_USER_SUCCESS",e.DELETE_USER_FAILED="DELETE_USER_FAILED",e.UPDATE_TOKEN_REQUEST="UPDATE_TOKEN_REQUEST",e.UPDATE_TOKEN_SUCCESS="UPDATE_TOKEN_SUCCESS",e.UPDATE_TOKEN_FAILED="UPDATE_TOKEN_FAILED"}(o||(o={})),function(e){e.SET_FORGOT_PASSWORD_REQUEST="SET_FORGOT_PASSWORD_REQUEST",e.SET_FORGOT_PASSWORD_SUCCESS="SET_FORGOT_PASSWORD_SUCCESS",e.SET_FORGOT_PASSWORD_FAILED="SET_FORGOT_PASSWORD_FAILED",e.SET_RESET_PASSWORD_REQUEST="SET_FORGOT_PASSWORD_REQUEST",e.SET_RESET_PASSWORD_SUCCESS="SET_FORGOT_PASSWORD_SUCCESS",e.SET_RESET_PASSWORD_FAILED="SET_FORGOT_PASSWORD_FAILED"}(l||(l={})),function(e){e.SET_BTN_DISABLED="SET_BTN_DISABLED",e.SET_BTN_ACTIVE="SET_BTN_ACTIVE"}(u||(u={})),function(e){e.TAB_SWITCH="TAB_SWITCH"}(d||(d={}));var x={items:[],itemsRequest:!1,itemsFailed:!1,isLoad:!1},h=n(56),T=s.ADD_SELECTED_BUN,R=s.ADD_SELECTED_TOPPING,g=s.DELETE_SELECTED_BUNS,v=s.DELETE_SELECTED_TOPPINGS,y=s.DELETE_SELECTED_TOPPING,D=s.SORT_TOPPING,C={selectedBun:[],selectedToppings:[]},U=r.GET_ORDER_REQUEST,N=r.GET_ORDER_SUCCESS,I=r.GET_ORDER_FAILED,A=r.DELETE_CURRENT_ORDER,L={order:{},orderRequest:!1,orderFailed:!1},w=a.OPEN_ORDER_MODAL,P=a.CLOSE_ORDER_MODAL,F=a.OPEN_ERR_MODAL,k=a.CLOSE_ERR_MODAL,G=a.SET_ERR,B={isOrderModalVisible:!1,isErrModalVisible:!1,error:""},M=u.SET_BTN_DISABLED,q=u.SET_BTN_ACTIVE,Q={isBtnDisabled:!1},W=d.TAB_SWITCH,H={currentTab:"bun"},V=l.SET_FORGOT_PASSWORD_REQUEST,K=l.SET_FORGOT_PASSWORD_SUCCESS,z=l.SET_FORGOT_PASSWORD_FAILED,Z=l.SET_RESET_PASSWORD_REQUEST,J=l.SET_RESET_PASSWORD_SUCCESS,X=l.SET_RESET_PASSWORD_FAILED,Y={forgot_password:{},forgot_passwordRequest:!1,forgot_passwordFailed:!1},$={reset_password:{},reset_passwordRequest:!1,reset_passwordFailed:!1},ee=o.SET_USER_REQUEST,te=o.SET_USER_SUCCESS,ne=o.SET_USER_FAILED,ce=o.AUTHORIZE_REQUEST,re=o.AUTHORIZE_SUCCESS,ae=o.AUTHORIZE_FAILED,ie=o.GET_USER_FAILED,se=o.GET_USER_REQUEST,oe=o.GET_USER_SUCCESS,le=o.UPDATE_USER_FAILED,ue=o.UPDATE_USER_REQUEST,de=o.UPDATE_USER_SUCCESS,_e=o.DELETE_USER_FAILED,je=o.DELETE_USER_REQUEST,Oe=o.DELETE_USER_SUCCESS,Ee=o.UPDATE_TOKEN_FAILED,me=o.UPDATE_TOKEN_REQUEST,be=o.UPDATE_TOKEN_SUCCESS,pe={user:[],token:{},userRequest:!1,userFailed:!1,authRequest:!1,authFailed:!1,currentUserRequest:!1,currentUserFailed:!1,deleteUserRequest:!1,deleteUserFailed:!1,updateTokenRequest:!1,updateTokenFailed:!1},Se=Object(p.b)({ingredientsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=c.GET_ITEMS_FAILED,r=c.GET_ITEMS_REQUEST,a=c.GET_ITEMS_SUCCESS;switch(t.type){case r:return Object(f.a)(Object(f.a)({},e),{},{itemsRequest:!0,isLoad:!0});case a:return Object(f.a)(Object(f.a)({},e),{},{itemsFailed:!1,items:t.items,itemsRequest:!1,isLoad:!1});case n:return Object(f.a)(Object(f.a)({},e),{},{itemsFailed:!0,itemsRequest:!1,isLoad:!0});default:return e}},selectedItemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(f.a)(Object(f.a)({},e),{},{selectedBun:[Object(f.a)({},t.item)]});case R:return Object(f.a)(Object(f.a)({},e),{},{selectedToppings:[].concat(Object(h.a)(e.selectedToppings),[Object(f.a)({},t.item)])});case g:return Object(f.a)(Object(f.a)({},e),{},{selectedBun:[]});case v:return Object(f.a)(Object(f.a)({},e),{},{selectedToppings:[]});case y:return Object(f.a)(Object(f.a)({},e),{},{selectedToppings:Object(h.a)(e.selectedToppings).filter((function(e){return e.uuid!==t.item.uuid}))});case D:var n=e.selectedToppings[t.dragIndex],c=Object(h.a)(e.selectedToppings);return c.splice(t.dragIndex,1),c.splice(t.hoverIndex,0,n),Object(f.a)(Object(f.a)({},e),{},{selectedToppings:c});default:return e}},orderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(f.a)(Object(f.a)({},e),{},{orderRequest:!0});case N:return Object(f.a)(Object(f.a)({},e),{},{orderFailed:!1,order:t.order,orderRequest:!1});case I:return Object(f.a)(Object(f.a)({},e),{},{orderFailed:!0,orderRequest:!1});case A:return Object(f.a)(Object(f.a)({},e),{},{order:{}});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(f.a)(Object(f.a)({},e),{},{isOrderModalVisible:!0});case P:return Object(f.a)(Object(f.a)({},e),{},{isOrderModalVisible:!1});case F:return Object(f.a)(Object(f.a)({},e),{},{isErrModalVisible:!0});case k:return Object(f.a)(Object(f.a)({},e),{},{isErrModalVisible:!1});case G:return Object(f.a)(Object(f.a)({},e),{},{error:t.text});default:return e}},buttonReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(f.a)(Object(f.a)({},e),{},{isBtnDisabled:!0});case q:return Object(f.a)(Object(f.a)({},e),{},{isBtnDisabled:!1});default:return e}},tabReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;return t.type===W?Object(f.a)(Object(f.a)({},e),{},{currentTab:t.tab}):e},forgotPasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(f.a)(Object(f.a)({},e),{},{forgot_passwordRequest:!0});case K:return Object(f.a)(Object(f.a)({},e),{},{forgot_passwordFailed:!1,forgot_password:t.forgot_password,forgot_passwordRequest:!1});case z:return Object(f.a)(Object(f.a)({},e),{},{forgot_passwordFailed:!0,forgot_passwordRequest:!1});default:return e}},resetPasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(f.a)(Object(f.a)({},e),{},{reset_passwordRequest:!0});case J:return Object(f.a)(Object(f.a)({},e),{},{reset_passwordFailed:!1,reset_password:t.reset_password,reset_passwordRequest:!1});case X:return Object(f.a)(Object(f.a)({},e),{},{reset_passwordFailed:!0,reset_passwordRequest:!1});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(f.a)(Object(f.a)({},e),{},{userRequest:!0});case te:return Object(f.a)(Object(f.a)({},e),{},{userFailed:!1,user:t.user,userRequest:!1});case ne:return Object(f.a)(Object(f.a)({},e),{},{userFailed:!0,userRequest:!1});case ce:return Object(f.a)(Object(f.a)({},e),{},{authRequest:!0});case re:return Object(f.a)(Object(f.a)({},e),{},{authFailed:!1,user:t.user,authRequest:!1});case ae:return Object(f.a)(Object(f.a)({},e),{},{authFailed:!0,authRequest:!1});case se:return Object(f.a)(Object(f.a)({},e),{},{currentUserRequest:!0});case oe:return Object(f.a)(Object(f.a)({},e),{},{currentUserFailed:!1,user:t.user,currentUserRequest:!1});case ie:return Object(f.a)(Object(f.a)({},e),{},{currentUserFailed:!0,currentUserRequest:!1});case ue:return Object(f.a)(Object(f.a)({},e),{},{currentUserRequest:!0});case de:return Object(f.a)(Object(f.a)({},e),{},{currentUserFailed:!1,user:t.user,currentUserRequest:!1});case le:return Object(f.a)(Object(f.a)({},e),{},{currentUserFailed:!0,currentUserRequest:!1});case je:return Object(f.a)(Object(f.a)({},e),{},{deleteUserRequest:!0});case Oe:return Object(f.a)(Object(f.a)({},e),{},{deleteUserFailed:!1,user:{},deleteUserRequest:!1});case _e:return Object(f.a)(Object(f.a)({},e),{},{deleteUserFailed:!0,deleteUserRequest:!1});case me:return Object(f.a)(Object(f.a)({},e),{},{updateTokenRequest:!0});case be:return Object(f.a)(Object(f.a)({},e),{},{updateTokenFailed:!1,token:t.token,updateTokenRequest:!1});case Ee:return Object(f.a)(Object(f.a)({},e),{},{updateTokenFailed:!0,updateTokenRequest:!1});default:return e}}}),fe=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):p.c)(Object(p.a)(S.a)),xe=Object(p.d)(Se,fe),he=(n(123),n(11)),Te=a.OPEN_ORDER_MODAL,Re=a.CLOSE_ORDER_MODAL,ge=a.OPEN_ERR_MODAL,ve=a.CLOSE_ERR_MODAL,ye=a.SET_ERR,De=function(){return{type:ge}},Ce=function(e){return{type:ye,text:e}},Ue="https://norma.nomoreparties.space/api/",Ne=localStorage.getItem("refreshToken");function Ie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$?*|{}\]\\^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Ae(e,t,n){var c=Object(f.a)({},n),r=c.expires;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=c.expires=a}r&&r instanceof Date&&(c.expires=r.toUTCString()),t&&(t=encodeURIComponent(t));var i=e+"="+t;for(var s in c){i+="; "+s;var o=c[s];!0!==o&&(i+="="+o)}document.cookie=i}function Le(e){var t=e.accessToken.split("Bearer ")[1],n=e.refreshToken;t&&Ae("token",t,{"max-age":1200}),n&&localStorage.setItem("refreshToken",n)}var we=o.SET_USER_REQUEST,Pe=o.SET_USER_SUCCESS,Fe=o.SET_USER_FAILED,ke=o.AUTHORIZE_REQUEST,Ge=o.AUTHORIZE_SUCCESS,Be=o.AUTHORIZE_FAILED,Me=o.GET_USER_REQUEST,qe=o.GET_USER_SUCCESS,Qe=o.GET_USER_FAILED,We=o.UPDATE_USER_REQUEST,He=o.UPDATE_USER_SUCCESS,Ve=o.UPDATE_USER_FAILED,Ke=o.DELETE_USER_REQUEST,ze=o.DELETE_USER_SUCCESS,Ze=o.DELETE_USER_FAILED,Je=o.UPDATE_TOKEN_REQUEST,Xe=o.UPDATE_TOKEN_SUCCESS,Ye=o.UPDATE_TOKEN_FAILED;function $e(e){return function(t){t({type:Je}),fetch("".concat(Ue,"auth/token"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:"".concat(localStorage.getItem("refreshToken"))})}).then((function(e){return e.ok?e.json():(t({type:Ye}),Promise.reject(e.status))})).then((function(n){n.success&&(t({type:Xe,token:n}),Le(n),e&&e())})).catch((function(e){t({type:Ye}),t(Ce("".concat(e," token \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")))}))}}function et(){return function(e){e({type:Me}),fetch("".concat(Ue,"auth/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Ie("token")},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(t){return t.ok?t.json():(e({type:Qe}),Promise.reject(t.status))})).then((function(t){t.success&&e({type:qe,user:t})})).catch((function(t){e({type:Qe}),403===t&&e($e((function(){return e(et())}))),e(Ce("getUser ".concat(t)))}))}}function tt(e,t,n){return function(c){c({type:We}),fetch("".concat(Ue,"auth/user"),{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Ie("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:e,password:t,name:n})}).then((function(e){return e.ok?e.json():(c({type:Ve}),Promise.reject(e.status))})).then((function(e){e.success&&c({type:He,user:e})})).catch((function(r){403===r&&c($e((function(){return c(tt(e,t,n))}))),c({type:Ve}),c(Ce("updateUser ".concat(r)))}))}}function nt(e){return function(t){t({type:Ke}),fetch("".concat(Ue,"auth/logout"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:e})}).then((function(e){return e.ok?e.json():(t({type:Ze}),Promise.reject(e.status))})).then((function(e){e.success&&(t({type:ze,user:e}),Ae("token",null,{expires:-1}))})).catch((function(e){t({type:Ze}),t(De()),t(Ce("deleteUser ".concat(e)))}))}}var ct=r.GET_ORDER_REQUEST,rt=r.GET_ORDER_SUCCESS,at=r.GET_ORDER_FAILED,it=r.DELETE_CURRENT_ORDER;function st(e){return function(t){t({type:ct}),fetch("".concat(Ue,"orders"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:e})}).then((function(e){return e.ok?e.json():(t({type:at}),Promise.reject(e.status))})).then((function(e){t({type:rt,order:e.order}),t({type:Te})})).catch((function(e){t({type:at}),t(Ce("getOrder ".concat(e))),t(De())}))}}var ot=s.ADD_SELECTED_BUN,lt=s.ADD_SELECTED_TOPPING,ut=s.DELETE_SELECTED_BUNS,dt=s.DELETE_SELECTED_TOPPINGS,_t=s.DELETE_SELECTED_TOPPING,jt=s.SORT_TOPPING,Ot=n(15),Et=n.n(Ot),mt=n(5),bt=n(1),pt=function(){var e,t=Object(he.h)().pathname,n=Object(b.c)((function(e){return e.userReducer})).user,c="/"===t?"primary":"secondary",r="/profile"===t?"primary":"secondary";return Object(bt.jsx)("header",{className:Et.a.header,children:Object(bt.jsxs)("div",{className:Et.a.container,children:[Object(bt.jsxs)("nav",{className:Et.a.nav,children:[Object(bt.jsxs)("div",{className:"".concat(Et.a.navLink," pl-5 pr-6"),children:[Object(bt.jsx)(mt.BurgerIcon,{type:c}),Object(bt.jsx)(m.c,{to:{pathname:"/"},className:"".concat(Et.a.navLink," ml-2 text text_type_main-defaul"),activeClassName:"".concat(Et.a.activeNavLink),exact:!0,children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(bt.jsxs)("div",{className:"".concat(Et.a.navLink," pl-6 pr-5"),children:[Object(bt.jsx)(mt.ListIcon,{type:"secondary"}),Object(bt.jsx)(m.c,{to:{pathname:"#"},exact:!0,className:"".concat(Et.a.navLink," ml-2 text text_type_main-default"),activeClassName:"".concat(Et.a.activeNavLink),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(bt.jsx)(m.b,{to:{pathname:"/"},className:Et.a.logoContainer,children:Object(bt.jsx)(mt.Logo,{})}),Object(bt.jsxs)("div",{className:"".concat(Et.a.profile),children:[Object(bt.jsx)(mt.ProfileIcon,{type:r}),Object(bt.jsx)(m.c,{to:{pathname:"/profile"},className:"".concat(Et.a.navLink," text text_type_main-default ml-2"),activeClassName:"".concat(Et.a.activeNavLink),children:(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.name)?n.user.name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},St=n(209),ft=n(111),xt=n(76),ht=n.n(xt),Tt=d.TAB_SWITCH,Rt=n(8),gt=n(210),vt=n(55),yt=n.n(vt),Dt=function(e){var t=e.ingredient,n=Object(he.h)(),c=Object(b.c)((function(e){return e.selectedItemsReducer})),r=c.selectedBun,a=c.selectedToppings,i=Object(_.useMemo)((function(){return"bun"===(null===t||void 0===t?void 0:t.type)?2*r.filter((function(e){return e._id===t._id})).length:a.filter((function(e){return e._id===t._id})).length}),[t.type,r,a,t._id]),s=Object(gt.a)({type:"ingredient",item:t,collect:function(e){return{opacity:e.isDragging()?.5:1}}}),o=Object(Rt.a)(s,2),l=o[0].opacity,u=o[1];return Object(bt.jsxs)("li",{className:"".concat(yt.a.item," mb-7"),style:{opacity:l},ref:u,children:[0!==i?Object(bt.jsx)(mt.Counter,{count:i,size:"default"}):null,Object(bt.jsxs)(m.b,{className:"".concat(yt.a.link),to:{pathname:"/ingredients/".concat(t._id),state:{background:n}},children:[Object(bt.jsx)("img",{src:t.image,alt:"ingredient"}),Object(bt.jsxs)("div",{className:"".concat(yt.a.price," mt-1 mb-2"),children:[Object(bt.jsx)("p",{className:"text text_type_digits-default mr-2",children:t.price}),Object(bt.jsx)(mt.CurrencyIcon,{type:"primary"})]}),Object(bt.jsx)("p",{className:"text text_type_main-default",children:t.name})]},t._id)]})},Ct=(n(202),n(110)),Ut=n(32),Nt=n.n(Ut),It=function(){var e=document.querySelector("#burger-ingredients"),t=document.querySelector("#bun"),n=document.querySelector("#sauce"),c=document.querySelector("#topping"),r=Object(b.b)(),a=Object(b.c)((function(e){return e.ingredientsReducer})).items,i=Object(b.c)((function(e){return e.tabReducer})).currentTab,s=Object(b.c)((function(e){return e.ingredientsReducer})).isLoad,o=Object(_.useRef)(null),l=Object(_.useRef)(null),u=Object(_.useRef)(null),d=function(e){r(function(e){return{type:Tt,tab:e}}(e))},j=function(e,t){var n;d(e),null===(n=t.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})},O=Object(_.useMemo)((function(){return a.filter((function(e){return"bun"===e.type}))}),[a]),E=Object(_.useMemo)((function(){return a.filter((function(e){return"sauce"===e.type}))}),[a]),m=Object(_.useMemo)((function(){return a.filter((function(e){return"main"===e.type}))}),[a]);return Object(bt.jsxs)("section",{className:Nt.a.burgerIngredients,id:"burger-ingredients",onScroll:function(){return function(){if(t&&n&&c&&e){var r=Math.abs(t.getBoundingClientRect().top-e.getBoundingClientRect().top),a=Math.abs(n.getBoundingClientRect().top-e.getBoundingClientRect().top),i=Math.abs(c.getBoundingClientRect().top-e.getBoundingClientRect().top);d(r<a?"bun":a<i?"sauce":"topping")}}()},children:[Object(bt.jsxs)("div",{style:{display:"flex"},children:[Object(bt.jsx)(mt.Tab,{value:"bun",active:"bun"===i,onClick:function(){return j("bun",o)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(bt.jsx)(mt.Tab,{value:"sauce",active:"sauce"===i,onClick:function(){return j("sauce",l)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(bt.jsx)(mt.Tab,{value:"topping",active:"topping"===i,onClick:function(){return j("topping",u)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(bt.jsx)("div",{className:Nt.a.loader,children:Object(bt.jsx)(Ct.a,{color:"#4c4cff",height:200,width:200,visible:s})}),Object(bt.jsxs)("div",{className:"".concat(Nt.a.container," mt-10"),children:[0!==(null===O||void 0===O?void 0:O.length)?Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("h2",{className:"text text_type_main-medium",id:"bun",ref:o,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(bt.jsx)("ul",{className:"".concat(Nt.a.list," mt-6 mb-10 ml-4 mr-2"),children:O.map((function(e){return Object(bt.jsx)(Dt,{ingredient:e},e._id)}))})]}):null,0!==(null===E||void 0===E?void 0:E.length)?Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("h2",{className:"text text_type_main-medium",id:"sauce",ref:l,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(bt.jsx)("ul",{className:"".concat(Nt.a.list," mt-6 mb-10 ml-4 mr-2"),children:E.map((function(e){return Object(bt.jsx)(Dt,{ingredient:e},e._id)}))})]}):null,0!==(null===m||void 0===m?void 0:m.length)?Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("h2",{className:"text text_type_main-medium mb-3",id:"topping",ref:u,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(bt.jsx)("ul",{className:"".concat(Nt.a.list," mt-6 mb-10 ml-4 mr-2"),children:m.map((function(e){return Object(bt.jsx)(Dt,{ingredient:e},e._id)}))})]}):null]})]})},At=u.SET_BTN_DISABLED,Lt=u.SET_BTN_ACTIVE,wt=n(211),Pt=n(105),Ft=n.n(Pt),kt=function(e){var t=e.item,n=e.index,c=e.id,r=e.type,a=e.text,i=Object(b.b)(),s=Object(_.useCallback)((function(e,t){i(function(e,t){return{type:jt,dragIndex:e,hoverIndex:t}}(e,t))}),[i]),o=Object(_.useRef)(null),l=Object(wt.a)({accept:"constructor",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){if(o.current){var c=e.index,r=n;if(c!==r){var a=o.current.getBoundingClientRect(),i=(a.bottom-a.top)/2,l=t.getClientOffset().y-a.top;c<r&&l<i||c>r&&l>i||(s(c,r),e.index=r)}}}}),u=Object(Rt.a)(l,2),d=u[0].handlerId,j=u[1],O=Object(gt.a)({type:"constructor",item:function(){return{id:c,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),E=Object(Rt.a)(O,2),m=E[0].isDragging?0:1;return(0,E[1])(j(o)),Object(bt.jsx)(bt.Fragment,{children:"bun"===(null===t||void 0===t?void 0:t.type)?Object(bt.jsx)("li",{className:"ml-8 mb-4",children:Object(bt.jsx)(mt.ConstructorElement,{type:r,isLocked:!0,text:a,price:t.price,thumbnail:t.image})}):Object(bt.jsxs)("li",{className:"".concat(Ft.a.itemContainer," mb-4"),ref:o,style:{opacity:m},"data-handler-id":d,children:[Object(bt.jsx)(mt.DragIcon,{type:"primary"}),Object(bt.jsx)(mt.ConstructorElement,{handleClose:function(){i(function(e){return{type:_t,item:e}}(t))},text:t.name,price:t.price,thumbnail:t.image})]})})},Gt=n(212),Bt=n(25),Mt=n.n(Bt),qt=function(){var e=Object(b.b)(),t=Object(he.g)(),n=Object(b.c)((function(e){return e.selectedItemsReducer})),c=n.selectedBun,r=n.selectedToppings,a=Object(b.c)((function(e){return e.userReducer})).user,i=Object(b.c)((function(e){return e.buttonReducer})).isBtnDisabled,s=function(t){t.uuid=Object(Gt.a)(),"bun"===(null===t||void 0===t?void 0:t.type)?e(function(e){return{type:ot,item:e}}(t)):e(function(e){return{type:lt,item:e}}(t))},o=Object(wt.a)({accept:"ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(e){s(e)}}),l=Object(Rt.a)(o,2),u=l[0].isHover,d=l[1],j=u?"rgb(133, 133, 173)":"transparent",O=Object(_.useMemo)((function(){return r.reduce((function(e,t){return e+t.price}),0)+c.reduce((function(e,t){return e+2*t.price}),0)}),[r,c]);Object(_.useEffect)((function(){0===O||0===(null===c||void 0===c?void 0:c.length)?e({type:At}):e({type:Lt})}),[e,O,c]);var E=Object(_.useMemo)((function(){return c.concat(r).map((function(e){return e._id}))}),[c,r]);return Object(bt.jsxs)("section",{className:"".concat(Mt.a.burgerConstructor," ml-10 pl-4"),style:{borderColor:j},ref:d,children:[Object(bt.jsxs)("ul",{className:"".concat(Mt.a.list),children:[c&&c.map((function(e,t){return Object(bt.jsx)(kt,{item:e,index:t,type:"top",text:"".concat(e.name," (\u0432\u0435\u0440\u0445)"),id:e._id},e.uuid)})),Object(bt.jsx)("div",{className:"".concat(Mt.a.middleContainer," pr-2"),children:r&&r.map((function(e,t){return function(e,t){return Object(bt.jsx)(kt,{item:e,index:t,id:e._id,type:"top",text:e.name},e.uuid)}(e,t)}))}),c&&c.map((function(e,t){return Object(bt.jsx)(kt,{item:e,index:t,type:"bottom",text:"".concat(e.name," (\u043d\u0438\u0437)"),id:e._id},e.uuid)}))]}),0!==(null===c||void 0===c?void 0:c.length)||0!==(null===r||void 0===r?void 0:r.length)?Object(bt.jsxs)("div",{className:"".concat(Mt.a.summary," mt-10 pr-4"),children:[Object(bt.jsxs)("div",{className:"".concat(Mt.a.price," mr-10"),children:[Object(bt.jsx)("p",{className:"text text_type_digits-medium pr-2",children:O}),Object(bt.jsx)(mt.CurrencyIcon,{type:"primary"})]}),Object(bt.jsx)(mt.Button,{type:"primary",size:"large",onClick:function(){(null===a||void 0===a?void 0:a.user)?e(st(E)):t.replace({pathname:"/login"})},disabled:i,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}):Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("div",{className:"".concat(Mt.a.burgerImg),children:Object(bt.jsx)(mt.BurgerIcon,{type:"secondary"})}),Object(bt.jsx)("p",{className:"".concat(Mt.a.text," text text_type_main-medium text_color_inactive"),children:"\u0414\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0435\u0433\u043e \u0438\u0437 \u043b\u0435\u0432\u043e\u0433\u043e \u043c\u0435\u043d\u044e."}),Object(bt.jsx)("p",{className:"".concat(Mt.a.text," text text_type_main-medium text_color_inactive mt-5"),children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0443\u043b\u043a\u0438."})]})]})},Qt=function(){return Object(bt.jsxs)("main",{className:"".concat(ht.a.main," pl-5 pr-5"),children:[Object(bt.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(bt.jsx)("div",{className:ht.a.container,children:Object(bt.jsxs)(St.a,{backend:ft.a,children:[Object(bt.jsx)(It,{}),Object(bt.jsx)(qt,{})]})})]})},Wt=n(106),Ht=n.n(Wt),Vt=function(){return Object(bt.jsx)("div",{className:"modalOverlay ".concat(Ht.a.modalOverlay)})},Kt=n(79),zt=n.n(Kt),Zt=document.getElementById("modals"),Jt=function(e){var t=e.handleClose,n=e.children;return Object(_.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()},n=function(e){e.target.classList.contains("modalOverlay")&&t()};return window.addEventListener("keydown",e),window.addEventListener("mousedown",n),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousedown",n)}}),[t]),E.a.createPortal(Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)(Vt,{}),Object(bt.jsxs)("div",{className:"".concat(zt.a.modal," pt-10 pl-10 pr-10 pb-15"),children:[Object(bt.jsx)("div",{className:zt.a.close,children:Object(bt.jsx)(mt.CloseIcon,{type:"primary",onClick:t})}),n]})]}),Zt)},Xt=n(23),Yt=n.n(Xt),$t=function(){var e=Object(b.c)((function(e){return e.ingredientsReducer})).items,t=Object(he.i)().id,n=Object(_.useMemo)((function(){return e.filter((function(e){return e._id===t}))[0]}),[e,t]);return Object(bt.jsx)(bt.Fragment,{children:n&&Object(bt.jsxs)("div",{className:"".concat(Yt.a.container," mt-3"),children:[Object(bt.jsx)("h2",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(bt.jsxs)("div",{className:"".concat(Yt.a.ingredient," mt-3"),children:[Object(bt.jsx)("img",{src:n.image,className:"".concat(Yt.a.image," pl-5 pr-5 mt-3 mb-4"),alt:n.name}),Object(bt.jsx)("h3",{className:"".concat(Yt.a.name," text text_type_main-medium mb-8"),children:n.name}),Object(bt.jsxs)("ul",{className:"".concat(Yt.a.info),children:[Object(bt.jsxs)("li",{className:"".concat(Yt.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(bt.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(bt.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.calories})]}),Object(bt.jsxs)("li",{className:"".concat(Yt.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(bt.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(bt.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.proteins})]}),Object(bt.jsxs)("li",{className:"".concat(Yt.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(bt.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(bt.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.fat})]}),Object(bt.jsxs)("li",{className:"".concat(Yt.a.item," text text_type_main-default text_color_inactive pl-2 pr-2"),children:[Object(bt.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(bt.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n.carbohydrates})]})]})]})]})})},en=n.p+"static/media/vector1.212deacc.svg",tn=n.p+"static/media/vector2.108e071d.svg",nn=n.p+"static/media/vector3.9ffee6b1.svg",cn=n.p+"static/media/stroke.bd47ec5e.svg",rn=n(28),an=n.n(rn),sn=function(){var e=Object(b.c)((function(e){return e.orderReducer})).order;return Object(bt.jsxs)("div",{className:"".concat(an.a.orderDetails," pt-20 pb-15"),children:[Object(bt.jsx)("h2",{className:"".concat(an.a.title," text text_type_digits-large mb-8"),children:e.number}),Object(bt.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(bt.jsxs)("div",{className:"".concat(an.a.image," mt-15 mb-15"),children:[Object(bt.jsx)("img",{src:en,className:"".concat(an.a.vector1),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"}),Object(bt.jsx)("img",{src:tn,className:"".concat(an.a.vector2),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"}),Object(bt.jsx)("img",{src:nn,className:"".concat(an.a.vector3),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"}),Object(bt.jsx)("img",{src:cn,className:"".concat(an.a.stroke," "),alt:"\u0433\u043e\u0442\u043e\u0432\u043e"})]}),Object(bt.jsx)("p",{className:"text text_type_main-default mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(bt.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},on=n(107),ln=n.n(on),un=function(){var e=Object(b.c)((function(e){return e.modalReducer})).error;return Object(bt.jsx)("div",{className:"".concat(ln.a.container," mt-20 mb-20"),children:Object(bt.jsxs)("h2",{className:"text text_type_main-large",children:["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ",e]})})},dn=n(112),_n=["children"],jn=function(e){var t=e.children,n=Object(dn.a)(e,_n),c=Object(b.c)((function(e){return e.userReducer})).user,r=Object(_.useState)(!1),a=Object(Rt.a)(r,2),i=a[0],s=a[1];return Object(_.useEffect)((function(){s(!0)}),[]),i?Object(bt.jsx)(he.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){var n=e.location;return(null===c||void 0===c?void 0:c.user)?t:Object(bt.jsx)(he.a,{to:{pathname:"/login",state:{from:n}}})}})):null},On=n(22),En=n(36),mn=n.n(En),bn=function(){var e,t=Object(b.b)(),n=Object(he.h)(),c=Object(b.c)((function(e){return e.userReducer})).user,r=Object(_.useState)({email:"",password:""}),a=Object(Rt.a)(r,2),i=a[0],s=a[1],o=function(e){s(Object(f.a)(Object(f.a)({},i),{},Object(On.a)({},e.target.name,e.target.value)))};return localStorage.getItem("refreshToken")&&(null===c||void 0===c?void 0:c.user)?Object(bt.jsx)(he.a,{to:(null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.from)||"/"}):Object(bt.jsx)("div",{className:mn.a.wrapper,children:Object(bt.jsxs)("form",{className:"".concat(mn.a.form),onSubmit:function(e){var n,c;e.preventDefault(),t((n=i.email,c=i.password,function(e){e({type:ke}),fetch("".concat(Ue,"auth/login"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:n,password:c})}).then((function(t){return t.ok?t.json():(e({type:Be}),Promise.reject(t.status))})).then((function(t){t.success&&(e({type:Ge,user:t}),Le(t),e(et()))})).catch((function(t){401===t?(e({type:Be}),e(Ce("".concat(t," \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))),e(De())):(e({type:Be}),e(Ce("authorize ".concat(t))),e(De()))}))}))},children:[Object(bt.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(bt.jsx)(mt.EmailInput,{value:i.email,name:"email",onChange:o}),Object(bt.jsx)(mt.PasswordInput,{value:i.password,name:"password",onChange:o}),Object(bt.jsx)("div",{className:"".concat(mn.a.container),children:Object(bt.jsx)(mt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(bt.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(bt.jsx)(m.b,{to:{pathname:"/register"},className:"".concat(mn.a.link," ml-2"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(bt.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(bt.jsx)(m.b,{to:{pathname:"/forgot-password"},className:"".concat(mn.a.link," ml-2"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})},pn=n(42),Sn=n.n(pn),fn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.userReducer})).user,n=Object(_.useState)({name:"",email:"",password:""}),c=Object(Rt.a)(n,2),r=c[0],a=c[1],i=function(e){a(Object(f.a)(Object(f.a)({},r),{},Object(On.a)({},e.target.name,e.target.value)))},s=Object(_.useCallback)((function(t){var n,c,a;t.preventDefault(),e((n=r.email,c=r.password,a=r.name,function(e){e({type:we}),fetch("".concat(Ue,"auth/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:c,name:a})}).then((function(t){return t.ok?t.json():(e({type:Fe}),Promise.reject(t.status))})).then((function(t){t.success&&(e({type:Pe,user:t}),Le(t),e(et()))})).catch((function(t){e({type:Fe}),e(Ce("register ".concat(t))),e(De())}))}))}),[e,r]);return(null===t||void 0===t?void 0:t.user)?Object(bt.jsx)(he.a,{to:{pathname:"/"}}):Object(bt.jsx)("div",{className:Sn.a.wrapper,children:Object(bt.jsxs)("form",{className:"".concat(Sn.a.form),onSubmit:s,children:[Object(bt.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(bt.jsx)(mt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:r.name,name:"name",onChange:i,error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(bt.jsx)(mt.EmailInput,{value:r.email,name:"email",onChange:i}),Object(bt.jsx)(mt.PasswordInput,{value:r.password,name:"password",onChange:i}),Object(bt.jsx)("div",{className:"".concat(Sn.a.container),children:Object(bt.jsx)(mt.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(bt.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(bt.jsx)(m.b,{to:{pathname:"/login"},className:"".concat(Sn.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},xn=l.SET_FORGOT_PASSWORD_REQUEST,hn=l.SET_FORGOT_PASSWORD_SUCCESS,Tn=l.SET_FORGOT_PASSWORD_FAILED,Rn=l.SET_RESET_PASSWORD_REQUEST,gn=l.SET_RESET_PASSWORD_SUCCESS,vn=l.SET_RESET_PASSWORD_FAILED;var yn=n(43),Dn=n.n(yn),Cn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.forgotPasswordReducer})).forgot_password,n=Object(b.c)((function(e){return e.userReducer})).user,c=Object(_.useState)(""),r=Object(Rt.a)(c,2),a=r[0],i=r[1],s=Object(_.useCallback)((function(t){t.preventDefault(),e(function(e){return function(t){t({type:xn}),fetch("".concat(Ue,"password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return e.ok?e.json():(t({type:Tn}),Promise.reject(e.status))})).then((function(e){e.success&&t({type:hn,forgot_password:e})})).catch((function(e){t({type:Tn}),t(Ce("forgotPassword ".concat(e))),t(De())}))}}(a))}),[e,a]);return(null===n||void 0===n?void 0:n.user)?Object(bt.jsx)(he.a,{to:{pathname:"/"}}):(null===t||void 0===t?void 0:t.success)?Object(bt.jsx)(he.a,{to:{pathname:"/reset-password"}}):Object(bt.jsx)("div",{className:Dn.a.wrapper,children:Object(bt.jsxs)("form",{className:"".concat(Dn.a.form),onSubmit:s,children:[Object(bt.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(bt.jsx)(mt.EmailInput,{onChange:function(e){i(e.target.value)},value:a,name:"email"}),Object(bt.jsx)("div",{className:"".concat(Dn.a.container),children:Object(bt.jsx)(mt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})}),Object(bt.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(bt.jsx)(m.b,{to:{pathname:"/login"},className:"".concat(Dn.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},Un=n(44),Nn=n.n(Un),In=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.resetPasswordReducer})).reset_password,n=Object(b.c)((function(e){return e.forgotPasswordReducer})).forgot_password,c=Object(b.c)((function(e){return e.userReducer})).user,r=Object(_.useState)({code:"",password:""}),a=Object(Rt.a)(r,2),i=a[0],s=a[1],o=function(e){s(Object(f.a)(Object(f.a)({},i),{},Object(On.a)({},e.target.name,e.target.value)))},l=Object(_.useCallback)((function(t){var n,c;t.preventDefault(),e((n=i.password,c=i.code,function(e){e({type:Rn}),fetch("".concat(Ue,"password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n,token:c})}).then((function(t){return t.ok?t.json():(e({type:vn}),Promise.reject(t.status))})).then((function(t){t.success&&e({type:gn,reset_password:t})})).catch((function(t){e({type:vn}),e(Ce("resetPassword ".concat(t))),e(De())}))}))}),[e,i]);return(null===t||void 0===t?void 0:t.success)?Object(bt.jsx)(he.a,{to:{pathname:"/login"}}):(null===c||void 0===c?void 0:c.user)||void 0===(null===n||void 0===n?void 0:n.success)?Object(bt.jsx)(he.a,{to:{pathname:"/"}}):Object(bt.jsx)("div",{className:Nn.a.wrapper,children:Object(bt.jsxs)("form",{className:"".concat(Nn.a.form),onSubmit:l,children:[Object(bt.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(bt.jsx)(mt.PasswordInput,{value:i.password,name:"password",onChange:o}),Object(bt.jsx)(mt.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:o,value:i.code,name:"code",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(bt.jsx)("div",{className:"".concat(Nn.a.container),children:Object(bt.jsx)(mt.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(bt.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(bt.jsx)(m.b,{to:{pathname:"/login"},className:"".concat(Nn.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},An=n(80),Ln=n.n(An),wn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.userReducer})).user,n=j.a.useRef(null),c=j.a.useRef(null),r=Object(_.useState)({name:"",email:"",password:""}),a=Object(Rt.a)(r,2),i=a[0],s=a[1],o=Object(_.useState)(!1),l=Object(Rt.a)(o,2),u=l[0],d=l[1],O=Object(_.useState)("EditIcon"),E=Object(Rt.a)(O,2),m=E[0],p=E[1],S=Object(_.useState)("EditIcon"),x=Object(Rt.a)(S,2),h=x[0],T=x[1],R=Object(_.useState)(!1),g=Object(Rt.a)(R,2),v=g[0],y=g[1],D=Object(_.useState)(!1),C=Object(Rt.a)(D,2),U=C[0],N=C[1],I=Object(_.useState)(!1),A=Object(Rt.a)(I,2),L=A[0],w=A[1],P=Object(_.useState)(!1),F=Object(Rt.a)(P,2),k=F[0],G=F[1];Object(_.useEffect)((function(){(null===t||void 0===t?void 0:t.user)&&s({name:t.user.name,email:t.user.email,password:""})}),[null===t||void 0===t?void 0:t.user]);var B=function(e){"name"===e.target.name&&e.target.value.length<1?w(!0):w(!1),"email"===e.target.name&&e.target.value.length<1?G(!0):G(!1),s(Object(f.a)(Object(f.a)({},i),{},Object(On.a)({},e.target.name,e.target.value))),d(!0)},M=Object(_.useCallback)((function(t){t.preventDefault();i.name.length<1?w(!0):i.email.length<1||!1===/^([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$)$/.test(i.email)?G(!0):e(tt(i.email,i.password,i.name)),d(!1)}),[e,i]),q=function(e){"name"===e.target.name?(y(!0),p("CloseIcon")):"email"===e.target.name&&(N(!0),T("CloseIcon"))},Q=function(e){"name"===e.target.name?(y(!1),p("EditIcon")):"email"===e.target.name&&(N(!1),T("EditIcon"))};return Object(bt.jsxs)("form",{onSubmit:M,className:"".concat(Ln.a.form),children:[Object(bt.jsx)(mt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:i.name,name:"name",onChange:B,icon:m,error:L,errorText:'\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.',onFocus:q,onBlur:Q,ref:n,onIconClick:function(){y(!0),w(!1),setTimeout((function(){var e;null===(e=n.current)||void 0===e||e.focus()}),0)},disabled:!v}),Object(bt.jsx)(mt.Input,{type:"email",placeholder:"Email",value:i.email,name:"email",onChange:B,icon:h,error:k,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 Email.",onFocus:q,onBlur:Q,ref:c,onIconClick:function(){N(!0),G(!1),setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)},disabled:!U}),Object(bt.jsx)(mt.PasswordInput,{value:i.password,name:"password",onChange:B}),u&&Object(bt.jsxs)("div",{className:Ln.a.buttonContainer,children:[Object(bt.jsx)(mt.Button,{type:"secondary",size:"medium",onClick:function(){w(!1),G(!1),s({name:t.user.name,email:t.user.email,password:""}),d(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(bt.jsx)(mt.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},Pn=function(){return Object(bt.jsx)(bt.Fragment,{})},Fn=n(26),kn=n.n(Fn),Gn=function(){var e=Object(b.b)(),t=Object(he.g)(),n=Object(he.h)().pathname;return Object(bt.jsxs)("div",{className:kn.a.wrapper,children:[Object(bt.jsxs)("nav",{children:[Object(bt.jsxs)("ul",{className:"".concat(kn.a.list," mb-4"),children:[Object(bt.jsx)("li",{className:"mb-9",children:Object(bt.jsx)(m.c,{to:{pathname:"/profile"},className:"".concat(kn.a.item," text_type_main-medium text_color_inactive"),activeClassName:"".concat(kn.a.activeItem),exact:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(bt.jsx)("li",{className:"mb-9",children:Object(bt.jsx)(m.c,{to:{pathname:"/profile/orders"},className:"".concat(kn.a.item," text_type_main-medium text_color_inactive"),activeClassName:"".concat(kn.a.activeItem),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(bt.jsx)("li",{children:Object(bt.jsx)("button",{onClick:function(){e(nt(Ne)),localStorage.removeItem("refreshToken"),t.push("/login")},className:"".concat(kn.a.exit," text_type_main-medium text_color_inactive"),children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(bt.jsxs)("p",{className:"".concat(kn.a.description," text text_type_main-default text_color_inactive ml-5"),children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 ",Object(bt.jsx)("br",{})," \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]}),"/profile"===n&&Object(bt.jsx)(wn,{}),"/profile/orders"===n&&Object(bt.jsx)(Pn,{})]})},Bn=n(108),Mn=n.n(Bn),qn=function(){return Object(bt.jsx)("div",{className:Mn.a.container,children:Object(bt.jsx)($t,{})})},Qn=n(45),Wn=n.n(Qn),Hn=function(){return Object(bt.jsx)("div",{className:Wn.a.wrapper,children:Object(bt.jsx)("div",{className:Wn.a.container,children:Object(bt.jsxs)("div",{className:Wn.a.content,children:[Object(bt.jsx)("h1",{className:"text text_type_main-large text_color_inactive pb-20",children:"\u0423\u043f\u0441! \u041e\u0448\u0438\u0431\u043a\u0430 404"}),Object(bt.jsx)("p",{className:"text text_type_main-medium text_color_inactive",children:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u0432\u0430\u043c\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \ud83d\ude43"}),Object(bt.jsx)("br",{}),Object(bt.jsx)("br",{}),Object(bt.jsxs)("p",{className:"text text_type_main-medium text_color_inactive",children:["\u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430"," ",Object(bt.jsx)(m.b,{to:{pathname:"/"},className:"".concat(Wn.a.link," text text_type_main-medium"),children:"\u0434\u043e\u043c\u0430\u0448\u043d\u044e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})]})})})},Vn=n(109),Kn=n.n(Vn),zn=function(){var e=Object(b.b)(),t=Object(he.h)(),n=Object(he.g)(),r=(null===t||void 0===t?void 0:t.state)&&t.state.background,a=Object(b.c)((function(e){return e.modalReducer})),i=a.isOrderModalVisible,s=a.isErrModalVisible;Object(_.useEffect)((function(){e(function(){var e=c.GET_ITEMS_REQUEST,t=c.GET_ITEMS_SUCCESS,n=c.GET_ITEMS_FAILED;return function(c){c({type:e}),fetch("".concat(Ue,"ingredients")).then((function(e){return e.ok?e.json():(c({type:n}),Promise.reject(e.status))})).then((function(e){c({type:t,items:e.data})})).catch((function(e){c({type:n}),c(De()),c(Ce("getItems ".concat(e)))}))}}()),e(et()),$e()}),[e]);return Object(bt.jsxs)("div",{className:Kn.a.app,children:[Object(bt.jsx)(pt,{}),Object(bt.jsxs)(he.d,{location:r||t,children:[Object(bt.jsx)(he.b,{path:"/",exact:!0,children:Object(bt.jsx)(Qt,{})}),Object(bt.jsx)(he.b,{path:"/login",children:Object(bt.jsx)(bn,{})}),Object(bt.jsx)(he.b,{path:"/register",children:Object(bt.jsx)(fn,{})}),Object(bt.jsx)(he.b,{path:"/forgot-password",children:Object(bt.jsx)(Cn,{})}),Object(bt.jsx)(he.b,{path:"/reset-password",children:Object(bt.jsx)(In,{})}),Object(bt.jsx)(he.b,{path:"/ingredients/:id",children:Object(bt.jsx)(qn,{})}),Object(bt.jsx)(jn,{path:"/profile",children:Object(bt.jsx)(Gn,{})}),Object(bt.jsx)(he.b,{children:Object(bt.jsx)(Hn,{})})]}),r&&Object(bt.jsx)(he.b,{path:"/ingredients/:id",children:Object(bt.jsx)(Jt,{handleClose:function(){n.goBack()},children:Object(bt.jsx)($t,{})})}),i&&Object(bt.jsx)(Jt,{handleClose:function(){e({type:Re}),e({type:it}),e({type:ut}),e({type:dt})},children:Object(bt.jsx)(sn,{})}),s&&Object(bt.jsx)(Jt,{handleClose:function(){e({type:ve})},children:Object(bt.jsx)(un,{})})]})},Zn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};E.a.render(Object(bt.jsx)(j.a.StrictMode,{children:Object(bt.jsx)(b.a,{store:xe,children:Object(bt.jsx)(m.a,{children:Object(bt.jsx)(zn,{})})})}),document.getElementById("root")),Zn()},23:function(e,t,n){e.exports={container:"ingredient-details_container__1rRjF",ingredient:"ingredient-details_ingredient__2fwBi",image:"ingredient-details_image__3S2tG",name:"ingredient-details_name__2uAj3",info:"ingredient-details_info__227R4",item:"ingredient-details_item__12Gl3"}},25:function(e,t,n){e.exports={burgerConstructor:"burger-constructor_burgerConstructor__1lPyN",text:"burger-constructor_text__3CIux",burgerImg:"burger-constructor_burgerImg__1rFGW",list:"burger-constructor_list__2JohF",middleContainer:"burger-constructor_middleContainer__2zFY8",summary:"burger-constructor_summary__KJCVi",price:"burger-constructor_price__1gqni"}},26:function(e,t,n){e.exports={wrapper:"profile_wrapper__iA0sE",list:"profile_list__YhgTr",item:"profile_item__1sbFV",exit:"profile_exit__3bA6E",activeItem:"profile_activeItem__dnhvu",description:"profile_description__3aV5d"}},28:function(e,t,n){e.exports={orderDetails:"order-details_orderDetails__3Pwkv",title:"order-details_title__20kNq",image:"order-details_image__1Cylb",stroke:"order-details_stroke__1rUKD",vector1:"order-details_vector1__2AB7q",rotation:"order-details_rotation__3pHAK",vector2:"order-details_vector2__100Uf",vector3:"order-details_vector3__3Ilup"}},32:function(e,t,n){e.exports={burgerIngredients:"burger-ingredients_burgerIngredients__1WB_z",container:"burger-ingredients_container__2ye6O",list:"burger-ingredients_list__KSvaX",loader:"burger-ingredients_loader__2BGfa"}},36:function(e,t,n){e.exports={wrapper:"login_wrapper__8q2Ht",form:"login_form__2xae5",container:"login_container__3rG5v",link:"login_link__3AIyt"}},42:function(e,t,n){e.exports={wrapper:"register_wrapper__2-A_t",form:"register_form__2YCuj",container:"register_container__2a4OK",link:"register_link__fNuhD"}},43:function(e,t,n){e.exports={wrapper:"forgot-password_wrapper__3xdV4",form:"forgot-password_form__3VtqI",container:"forgot-password_container__2rpMi",link:"forgot-password_link__2fMrh"}},44:function(e,t,n){e.exports={wrapper:"reset-password_wrapper__307D8",form:"reset-password_form__2KOMb",container:"reset-password_container__1JFec",link:"reset-password_link__RxRAP"}},45:function(e,t,n){e.exports={wrapper:"err404_wrapper__3CYC9",container:"err404_container__3qL_l",content:"err404_content__22lef",link:"err404_link__ICQnu"}},55:function(e,t,n){e.exports={link:"ingredient_link__37zW_",item:"ingredient_item__MWlnl",price:"ingredient_price__12lL-"}},76:function(e,t,n){e.exports={main:"main_main__1VeOx",container:"main_container__2zaAZ"}},79:function(e,t,n){e.exports={modal:"modal_modal__QjxD8",close:"modal_close__2HRwr"}},80:function(e,t,n){e.exports={form:"user-form_form__34ymu",buttonContainer:"user-form_buttonContainer__2qLd6"}}},[[203,1,2]]]);
//# sourceMappingURL=main.b3e08d9e.chunk.js.map